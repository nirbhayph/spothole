(this.webpackJsonpspothole=this.webpackJsonpspothole||[]).push([[0],{319:function(e,t,a){e.exports=a(570)},324:function(e,t,a){},374:function(e,t,a){},570:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(18),i=a.n(r),l=(a(324),a(12)),c=a(13),s=a(15),m=a(14),u=a(16),p="53865530561-eoook3l9t27uvkec6561d3aolde6mims.apps.googleusercontent.com",d="http://ec2-3-12-44-217.us-east-2.compute.amazonaws.com:5000",g=d+"/api/reports",h="http://localhost:3000/spothole",f=a(41),b=a(65),E=a(142),y=a.n(E),v=(a(325),a(616)),x=a(5),S=a(144),C=a(94),O=a(255),k=a.n(O),w=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleTakePhoto",value:function(e){console.log("takePhoto")}},{key:"handleTakePhotoAnimationDone",value:function(e){console.log("takePhoto",e)}},{key:"handleCameraError",value:function(e){console.log("handleCameraError",e)}},{key:"handleCameraStart",value:function(e){console.log("handleCameraStart")}},{key:"handleCameraStop",value:function(){console.log("handleCameraStop")}},{key:"render",value:function(){var e=this;return o.a.createElement(S.a,{variant:"outlined",style:{width:"80%",marginLeft:"10%",marginTop:"150px"}},o.a.createElement(v.a,{color:"secondary",variant:"contained",style:{zIndex:1,float:"right",marginBottom:"10px",marginRight:"10px",marginTop:"10px"},onClick:function(){return e.props.cameraClosed()}},"Close Camera \xa0",o.a.createElement(k.a,null)),o.a.createElement(y.a,{onTakePhoto:function(t){e.props.onCapture(t)},onTakePhotoAnimationDone:function(t){e.handleTakePhotoAnimationDone(t)},onCameraError:function(t){e.handleCameraError(t)},idealFacingMode:E.FACING_MODES.ENVIRONMENT,idealResolution:{width:600,height:480},imageType:E.IMAGE_TYPES.JPG,imageCompression:.97,isMaxResolution:!0,isImageMirror:!1,isSilentMode:!1,isDisplayStartCameraError:!0,isFullscreen:!1,sizeFactor:1,onCameraStart:function(t){e.handleCameraStart(t)},onCameraStop:function(){e.handleCameraStop()}}),o.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p",style:{marginTop:"-5px",textAlign:"center",fontSize:"18px",backgroundColor:"#2997f7",color:"white"}},o.a.createElement("b",null,"Click a Picture with a Pothole to get started!")))}}]),t}(o.a.Component),j=Object(x.a)((function(e){return{root:{flexGrow:1,marginTop:"60px"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,cursor:"pointer",height:"480px",marginRight:"10px",marginLeft:"10px"},text:{fontSize:"24px",position:"relative",top:"50%",transform:"translateY(-50%)"}}}))(w),I=a(177),R=(a(330),a(256)),L=a.n(R),T=a(257),D=a.n(T),B=(a(331),a(258)),N=a.n(B);Object(I.registerPlugin)(L.a,D.a,N.a);var F=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleInit",value:function(){this.props.updateFilePondRef(this.pond)}},{key:"loaded",value:function(e){var t=JSON.parse(e).filename[0];this.props.validation(t)}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",{className:"App",style:{marginTop:"100px",marginLeft:"20px",marginRight:"20px",display:this.props.display}},o.a.createElement(S.a,{variant:"outlined",className:t.paper},o.a.createElement("div",{className:t.text},o.a.createElement(I.FilePond,{ref:function(t){return e.pond=t},acceptedFileTypes:["image/png","image/jpg","image/jpeg"],labelIdle:this.props.label,allowMultiple:!1,oninit:function(){return e.handleInit()},server:{process:{url:"http://ec2-3-12-44-217.us-east-2.compute.amazonaws.com:5000/api/upload",onload:function(t){return e.loaded(t)}}}}))))}}]),t}(o.a.Component),A=Object(x.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,cursor:"pointer",height:"500px",marginRight:"10px",marginLeft:"10px",maxWidth:"60%",position:"relative",top:"50%",transform:"translate(32%, 20%)"},text:{fontSize:"24px",position:"relative",top:"50%",transform:"translateY(-50%)"}}}))(F),U=a(24),z=a.n(U),P=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(s.a)(this,Object(m.a)(t).call(this,e)),z.a.post("http://ec2-3-12-44-217.us-east-2.compute.amazonaws.com:5000/api/detect/single",{image_url:e.imageURL}).then((function(t){e.validationCompleted(t)})).catch((function(e){console.info("Unable to validate image!")})),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null)}}]),t}(o.a.Component),M=a(43),W=a(646),Y=a(650),_=a(264),q=a.n(_),G=a(621),H=a(617),V=a(259),J=a.n(V),Z=a(260),X=a.n(Z),Q=a(652),K=a(139),$=a.n(K);var ee={current:null},te=Object(H.a)((function(e){return{icon:{color:e.palette.text.secondary,marginRight:e.spacing(2)},textInput:{marginBottom:"10px"},labelText:{marginTop:"25px",marginBottom:"10px"},buttonCurrentLocation:{marginBottom:"15px"}}}));function ae(e){var t=te(),a=o.a.useState(""),n=Object(M.a)(a,2),r=n[0],i=n[1],l=o.a.useState([]),c=Object(M.a)(l,2),s=c[0],m=c[1],u=o.a.useState(!1),p=Object(M.a)(u,2),d=p[0],g=p[1],h=o.a.useState(""),f=Object(M.a)(h,2),b=f[0],E=(f[1],o.a.useState("")),y=Object(M.a)(E,2),v=y[0],x=(y[1],o.a.useRef(!1));"undefined"===typeof window||x.current||(document.querySelector("#google-maps")||function(e,t,a){if(t){var n=document.createElement("script");n.setAttribute("async",""),n.setAttribute("id",a),n.src=e,t.appendChild(n)}}("https://maps.googleapis.com/maps/api/js?key=AIzaSyDZBgT-uZYXzTSkTJbiDcYT4D_XYsS8aUQ&libraries=places",document.querySelector("head"),"google-maps"),x.current=!0);var S=function(t){i(t.target.value),""!==t.target.value.trim()?g(!1):g(!0),console.info("The field is now required",d),""===t.target.value.trim()&&void 0===e.currentLocationOptional&&e.updateLocation(b)},O=o.a.useMemo((function(){return X()((function(e,t){ee.current.getPlacePredictions(e,t)}),200)}),[]);o.a.useEffect((function(){var e=!0;if(!ee.current&&window.google&&(ee.current=new window.google.maps.places.AutocompleteService),ee.current){if(""!==r)return O({input:r},(function(t){e&&m(t||[])})),function(){e=!1};m([])}}),[r,O]);return console.log("HI"),void 0===e.currentLocationOptional&&console.log(v,"CURR"),o.a.createElement("div",null,o.a.createElement(C.a,{gutterBottom:!0,className:t.labelText},e.label||"Tag Pothole's Location"),o.a.createElement(Y.a,{id:"google-map-demo",getOptionLabel:function(e){return"string"===typeof e?e:e.description},filterOptions:function(e){return e},options:s,autoComplete:!0,includeInputInList:!0,disableOpenOnFocus:!0,fullWidth:!0,onChange:function(t,a){try{z.a.get("https://maps.googleapis.com/maps/api/geocode/json?place_id="+a.place_id+"&key=AIzaSyDZBgT-uZYXzTSkTJbiDcYT4D_XYsS8aUQ").then((function(t){e.updateLocation(a.description,t.data.results[0].geometry.location)}))}catch(n){e.updateLocation(b,v)}},renderInput:function(e){return o.a.createElement(W.a,Object.assign({},e,{label:"Add a location",variant:"outlined",fullWidth:!0,className:t.textInput,onChange:S}))},renderOption:function(e){var a=e.structured_formatting.main_text_matched_substrings,n=J()(e.structured_formatting.main_text,a.map((function(e){return[e.offset,e.offset+e.length]})));return o.a.createElement(G.a,{container:!0,alignItems:"center"},o.a.createElement(G.a,{item:!0},o.a.createElement(q.a,{className:t.icon})),o.a.createElement(G.a,{item:!0,xs:!0},n.map((function(e,t){return o.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)})),o.a.createElement(C.a,{variant:"body2",color:"textSecondary"},e.structured_formatting.secondary_text)))}}),void 0===e.currentLocationOptional&&o.a.createElement("div",null," ",o.a.createElement("h5",{style:{color:"white",textAlign:"center",fontWeight:"bold"}},"OR"),o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("i",null,"(Will Use Current Location Instead)")),o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(Q.a,{style:{marginBottom:"25px",marginTop:"7px"},icon:o.a.createElement($.a,null),label:b,variant:"outlined",color:"primary"}))," "))}var ne,oe,re=a(653),ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={value:5},a.handleChange=function(e,t){a.setState({value:t}),a.props.updateSeverity(t)},e.updateSeverity(a.state.value),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.value;return o.a.createElement("div",{className:e.root},o.a.createElement(C.a,{gutterBottom:!0},"Severity Rate ",o.a.createElement("i",null,"(Choose a value between 0-10)")),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(re.a,{classes:{container:e.slider},value:t,min:1,max:10,step:1,onChange:this.handleChange,valueLabelDisplay:"on"}))}}]),t}(o.a.Component),le=Object(x.a)({root:{width:"100%"},slider:{padding:"22px 0px"}})(ie),ce=a(627),se=a(630),me=a(629),ue=a(628),pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).makeEmpty=function(){a.setState({content:""}),a.checkRequired(a.textFieldRef.current,"required")},a.checkRequired=function(e,t){var n=e.value.trim();""!==n?a.setState({errorRequired:!1,content:e.value}):a.setState({errorRequired:void 0===t,content:e.value}),a.props.updateDescription(n)},a.state={errorRequired:!1,content:""},a.textFieldRef=o.a.createRef(),e.passMakeEmpty(a.makeEmpty),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(C.a,{style:{marginBottom:"10px",marginTop:"5px"},gutterBottom:!0},"Add Comment"),o.a.createElement(W.a,{inputRef:this.textFieldRef,error:this.state.errorRequired,onChange:function(t){return e.checkRequired(t.target)},required:!0,fullWidth:!0,variant:"outlined",placeholder:"Supporting comments on the report",multiline:!0,rows:4,rowsMax:50,label:"Additional Comments (Required)",value:this.state.content}))}}]),t}(o.a.Component),de=a(622),ge=a(626),he=a(624),fe=a(625),be=a(623),Ee=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleClose=function(){void 0!==a.props.linkTo&&(window.location.href=a.props.linkTo),a.props.updateCloseDialogState()},a.justClose=function(){a.props.updateCloseDialogState()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(de.a,{open:this.props.dialogOpenState,onClose:function(){return e.justClose()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(be.a,{id:"alert-dialog-title"},this.props.title),o.a.createElement(he.a,null,o.a.createElement(fe.a,{id:"alert-dialog-description"},this.props.content)),o.a.createElement(ge.a,null,o.a.createElement(v.a,{onClick:function(){return e.handleClose()},color:this.props.color,autoFocus:!0},this.props.buttonText),void 0!==this.props.linkTo&&o.a.createElement(v.a,{onClick:function(){return e.justClose()},color:"primary",autoFocus:!0},"No"))))}}]),t}(o.a.Component),ye=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).setLocation=function(e,t){a.state.location!==e&&ne.setState({location:e,locationLatLng:t})},a.setSeverity=function(e){ne.setState({severity:e})},a.setDescription=function(e){ne.setState({description:e})},a.updateCloseDialogState=function(){ne.setState({dialogOpenState:!1})},a.updateCancelDialogState=function(){ne.setState({cancelDialogOpenState:!1})},a.submitForm=function(){""===a.state.description||""===a.state.location||""===a.state.severity?a.setState({dialogOpenState:!0}):(a.setState({dialogOpenState:!1}),z.a.post("http://ec2-3-12-44-217.us-east-2.compute.amazonaws.com:5000/api/submit/report",{data:a.state}).then((function(e){a.setState({showSubmittedFeedback:!0})}),(function(e){console.info("Problem with submitting your report")})))},a.makeEmpty=function(e){ne.setState({makeBoxEmptyFunction:e})},a.showCancelAlert=function(){ne.setState({cancelDialogOpenState:!0})},a.navigateToNewReport=function(){window.location.reload()},a.state={imageURL:e.reportData.split(" : ")[0],location:"",severity:"",description:"",dialogOpenState:!1,cancelDialogOpenState:!1,locationLatLng:"",makeBoxEmptyFunction:"",showSubmittedFeedback:!1,userId:e.userId},ne=Object(b.a)(a),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",null,!this.state.showSubmittedFeedback&&"Your image is valid!"===this.props.reportData.split(" : ")[1]&&o.a.createElement("div",null,o.a.createElement(ce.a,{className:t.root},o.a.createElement(ue.a,{component:"img",alt:"Detected Pothole Image",height:"400",image:this.props.reportData.split(" : ")[0],title:"Validated Pothole Image"}),o.a.createElement(me.a,null,o.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Create Report"),o.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},"We were able to identify one or more potholes in the image you provided. Please fill the rest of the details to file an official complaint. Once you create a report and it gets approved you cannot cancel the request made until resolved by the the concerned authority. Don't forget to add supporting comments to your report."),o.a.createElement(ae,{updateLocation:this.setLocation}),o.a.createElement(le,{updateSeverity:this.setSeverity}),o.a.createElement(pe,{passMakeEmpty:this.makeEmpty,updateDescription:this.setDescription})),o.a.createElement(se.a,null,o.a.createElement(v.a,{size:"small",color:"primary",onClick:function(){return e.submitForm()}},"Submit"),o.a.createElement(v.a,{size:"small",color:"secondary",onClick:function(){return e.showCancelAlert()}},"Cancel"))),o.a.createElement(Ee,{dialogOpenState:this.state.cancelDialogOpenState,updateCloseDialogState:this.updateCancelDialogState,title:"Cancel Reporting!",content:"Are you sure you want to cancel?",buttonText:"Yes, Cancel Report",linkTo:"/report",color:"secondary"}),o.a.createElement(Ee,{dialogOpenState:this.state.dialogOpenState,updateCloseDialogState:this.updateCloseDialogState,title:"Required Fields Validation",content:"One or more required fields are empty!",buttonText:"OK",color:"primary"})),!("Your image is valid!"===this.props.reportData.split(" : ")[1])&&o.a.createElement("div",null,o.a.createElement(ce.a,{className:t.root},o.a.createElement(ue.a,{component:"img",alt:"Not Detected Pothole Image",height:"400",image:this.props.reportData.split(" : ")[0],title:"Not Validated Pothole Image"}),o.a.createElement(me.a,null,o.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Seems Like an Invalid Image"),o.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},"There does not seem to be a pothole in this image. Please retry with a different image. If you feel you have uploaded a correct image feel free to email us at"," ",o.a.createElement("a",{href:"mailto:support.spothole@gmail.com"},"support.spothole@gmail.com"))),o.a.createElement(se.a,{style:{marginTop:"10px"}},o.a.createElement(v.a,{size:"small",color:"primary",onClick:function(){return e.navigateToNewReport()}},"Retry"),o.a.createElement(f.b,{to:"/dashboard"},o.a.createElement(v.a,{size:"small",color:"primary"},"Go to My Complaints"))))),this.state.showSubmittedFeedback&&"Your image is valid!"===this.props.reportData.split(" : ")[1]&&o.a.createElement("div",null,o.a.createElement(ce.a,{className:t.root},o.a.createElement(ue.a,{component:"img",alt:"Detected Pothole Image",height:"400",image:this.props.reportData.split(" : ")[0],title:"Validated Pothole Image"}),o.a.createElement(me.a,null,o.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Complaint Registered!"),o.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},"Thank you for submitting the report. A concerned authority will get back to you. You can find the new report and monitor it's status in the"," ",o.a.createElement(f.b,{to:"/dashboard"},"My Complaints")," section."),o.a.createElement("br",null),o.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},"Keep a track of your report through the comments section and feel free to exchange more thoughts with the concerned authority too. You can even email us at"," ",o.a.createElement("a",{href:"mailto:support.spothole@gmail.com"},"support.spothole@gmail.com")," ","for more questions.")),o.a.createElement(se.a,{style:{marginTop:"10px"}},o.a.createElement(f.b,{to:"/dashboard"},o.a.createElement(v.a,{size:"small",color:"primary"},"Go to My Complaints"))))))}}]),t}(o.a.Component),ve=Object(x.a)((function(e){return{root:{maxWidth:"100%",marginRight:"10%",marginLeft:"10%",marginTop:"120px",marginBottom:"30px"}}}))(ye),xe=a(267),Se=a.n(xe),Ce=a(268),Oe=a.n(Ce),ke=a(266),we=a.n(ke),je=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",{className:t.root},o.a.createElement(G.a,{container:!0,spacing:2,justify:"center"},o.a.createElement(G.a,{item:!0,xs:10,sm:10},o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(C.a,{gutterBottom:!0,style:{textAlign:"center",fontSize:"2.7em"}},"Spot and Report"," ",o.a.createElement(we.a,{style:{fontSize:50},color:"secondary"})," Potholes Now"),o.a.createElement("div",null,o.a.createElement("center",null,o.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p",style:{textAlign:"center",fontSize:"1.5em",maxWidth:"400px"}},"Choose between either uploading a photo from the file system or using the camera to click a photo."))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null)),o.a.createElement(G.a,{item:!0,xs:6,sm:5},o.a.createElement(S.a,{variant:"outlined",onClick:function(){return e.props.toggleCameraComponent()},className:t.paper},o.a.createElement("div",{className:t.text},o.a.createElement(Se.a,{style:{fontSize:120}})," ",o.a.createElement("br",null)," Upload From Camera"))),o.a.createElement(G.a,{item:!0,xs:6,sm:5},o.a.createElement(S.a,{variant:"outlined",onClick:function(){return e.props.toggleUploadComponent()},className:t.paper},o.a.createElement("div",{className:t.text},o.a.createElement(Oe.a,{style:{fontSize:120}})," ",o.a.createElement("br",null)," Upload From File Manager")))))}}]),t}(o.a.Component),Ie=Object(x.a)((function(e){return{root:{flexGrow:1,marginTop:"60px"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,cursor:"pointer",height:"300px",marginRight:"10px",marginLeft:"10px",borderRadius:"10px",border:"1px solid #212121"},text:{fontSize:"24px",position:"relative",top:"50%",transform:"translateY(-50%)"}}}))(je),Re=a(631),Le=Object(H.a)((function(e){return{root:{width:"60%","& > * + *":{marginTop:e.spacing(2)},marginTop:"180px"}}}));function Te(){var e=Le();return o.a.createElement(G.a,{container:!0,spacing:2,justify:"center"},o.a.createElement("div",{className:e.root},o.a.createElement(Re.a,null)))}var De=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).uploadClickedFile=function(e){oe.removeCameraFromView(),oe.setState({enableUploadFilesComponent:o.a.createElement(A,{label:"Preview uploading of your clicked image!",display:"block",updateFilePondRef:a.updateFilePondRef,validation:a.validation}),fileDataCopy:e})},a.updateFilePondRef=function(e){oe.setState({filePondRef:e}),null!==oe.state.fileDataCopy&&oe.state.filePondRef.addFile(oe.state.fileDataCopy)},a.validation=function(e){oe.setState({buttons:null,validationMessage:o.a.createElement(Te,null),validateComponent:o.a.createElement(P,{imageURL:e,validationCompleted:a.validationCompleted})})},a.validationCompleted=function(e){oe.setState({validationMessage:o.a.createElement(ve,{userId:a.state.userId,reportData:e.data}),validateComponent:"",enableUploadFilesComponent:null})},a.toggleCameraComponent=function(){oe.state.cameraEnabled?oe.setState({enableCameraComponent:null,enableUploadFilesComponent:null,cameraEnabled:!1,uploadEnabled:!1,buttons:a.getButtons()}):oe.setState({enableCameraComponent:o.a.createElement(j,{cameraClosed:a.onCloseCamera,onCapture:a.uploadClickedFile}),cameraEnabled:!0,uploadEnabled:!0,buttons:null})},a.toggleUploadComponent=function(){a.state.uploadEnabled||oe.setState({enableUploadFilesComponent:o.a.createElement(A,{label:"Drag and Drop or Click to Upload a Single Image File!",display:"block",withCamera:!1,updateFilePondRef:a.updateFilePondRef,validation:a.validation}),uploadEnabled:!0,buttons:null})},a.onCloseCamera=function(){oe.toggleCameraComponent()},a.removeCameraFromView=function(){oe.setState({enableCameraComponent:null,cameraEnabled:!1})},a.state={filePondRef:null,validationMessage:null,validateComponent:null,enableCameraComponent:null,enableUploadFilesComponent:null,cameraEnabled:!1,uploadEnabled:!1,buttons:a.getButtons(),fileDataCopy:null,userId:e.userId},oe=Object(b.a)(a),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getButtons",value:function(){return o.a.createElement(Ie,{toggleCameraComponent:this.toggleCameraComponent,toggleUploadComponent:this.toggleUploadComponent})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.buttons,this.state.enableCameraComponent,this.state.enableUploadFilesComponent,this.state.validateComponent,this.state.validationMessage)}}]),t}(o.a.Component),Be=a(647),Ne=a(654),Fe=a(632),Ae=a(34),Ue=a(180),ze=a(269),Pe=a.n(ze),Me=Object(Ue.a)((function(e){var t=e.breakpoints,a=e.spacing;return{card:Object(Ae.a)({width:"100%",maxWidth:500,borderRadius:a(2),transition:"0.3s",boxShadow:"0px 14px 80px rgba(34, 35, 58, 0.2)",position:"relative",overflow:"initial",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",paddingLeft:8,paddingRight:8,background:"linear-gradient(to right bottom, #1769aa, #33eaff)"},t.up("sm"),{textAlign:"left",flexDirection:"row-reverse"}),media:Object(Ae.a)({flexShrink:0,width:"50%",paddingTop:"34%",marginLeft:"auto",marginRight:"auto"},t.up("sm"),{marginRight:"initial"}),media2:Object(Ae.a)({flexShrink:0,width:"30%",paddingTop:"35%",marginLeft:"auto",marginRight:"auto"},t.up("sm"),{marginRight:"initial"}),overline:{lineHeight:2,color:"#ffffff",fontWeight:"bold",fontSize:"0.625rem",opacity:.7},heading:{fontWeight:"600",color:"#ffffff",letterSpacing:.3},button:Object(Ae.a)({fontWeight:"bold !important",backgroundColor:"rgba(255, 255, 255, 0.15)",borderRadius:100,paddingLeft:32,paddingRight:32,color:"#ffffff",textTransform:"none",width:"100%","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.32)"}},t.up("sm"),{width:"auto"})}})),We=function(e){var t=Me();return o.a.createElement(ce.a,{className:t.card},e.score>0&&o.a.createElement(ue.a,{className:t.media,image:"https://webstockreview.net/images/good-clipart-well-done-2.png"}),0===e.score&&o.a.createElement(ue.a,{className:t.media2,image:"https://ignitewoo.com/wp-content/uploads/2012/08/woocommerce-loyalty-rewards.png"}),o.a.createElement(me.a,{className:t.content},o.a.createElement(C.a,{className:t.overline,variant:"overline"},"Every Detection Counts!"),o.a.createElement(C.a,{className:t.heading,variant:"h6",gutterBottom:!0},"Your Contribution Score"),o.a.createElement(Q.a,{style:{fontWeight:"bold",backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"},color:"primary",icon:o.a.createElement(Pe.a,null),className:t.button,label:e.score+" / 100"})))},Ye=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={submittedCount:0,approvedCount:0,completedCount:0,score:0},z.a.post(g,{data:{userId:a.props.userId}}).then((function(e){var t=e.data.filter((function(e){return"completed"===e.status})).length,n=e.data.filter((function(e){return"approved"===e.status})).length+t,o=e.data.filter((function(e){return"submitted"===e.status})).length+n+t,r=Math.ceil(100*(.7*parseFloat(n/o)+.3*parseFloat(t/n)));a.setState({submittedCount:o,approvedCount:n,completedCount:t,score:r||0})})),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("center",null,o.a.createElement(ce.a,{style:{marginTop:"125px",borderRadius:12,minWidth:256,maxWidth:500,textAlign:"center",marginLeft:"50px",marginRight:"50px"}},o.a.createElement(me.a,null,o.a.createElement(Ne.a,{style:{width:120,height:120,margin:"auto",marginTop:"15px",marginBottom:"15px"},src:this.props.photoURL}),o.a.createElement("h3",{style:{fontSize:18,fontWeight:"bold",letterSpacing:"0.5px",marginTop:8,marginBottom:0}},this.props.name),o.a.createElement("span",{style:{fontSize:14,color:"#9e9e9e",marginBottom:"1em"}},o.a.createElement("a",{href:"mailto:"+this.props.email},this.props.email))),o.a.createElement(Fe.a,{variant:"middle"}),o.a.createElement(Be.a,{display:"flex"},o.a.createElement(Be.a,{p:2,flex:"auto"},o.a.createElement("p",{style:{fontSize:12,color:"#9e9e9e",fontWeight:500,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',margin:0}},"Submitted"),o.a.createElement("p",{style:{fontSize:20,fontWeight:"bold",marginBottom:4,letterSpacing:"1px"}},this.state.submittedCount)),o.a.createElement(Be.a,{p:2,flex:"auto"},o.a.createElement("p",{style:{fontSize:12,color:"#9e9e9e",fontWeight:500,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',margin:0}},"Approved"),o.a.createElement("p",{style:{fontSize:20,fontWeight:"bold",marginBottom:4,letterSpacing:"1px"}},this.state.approvedCount)),o.a.createElement(Be.a,{p:2,flex:"auto"},o.a.createElement("p",{style:{fontSize:12,color:"#9e9e9e",fontWeight:500,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',margin:0}},"Completed"),o.a.createElement("p",{style:{fontSize:20,fontWeight:"bold",marginBottom:4,letterSpacing:"1px"}},this.state.completedCount))),o.a.createElement("div",{style:{marginLeft:"20px",marginRight:"20px",marginTop:"20px"}},o.a.createElement("center",null,o.a.createElement(We,{score:this.state.score})),o.a.createElement("br",null)))))}}]),t}(o.a.Component),_e=a(2),qe=a(294),Ge=a(295),He=a(635),Ve=a(636),Je=a(651),Ze=a(270),Xe=a.n(Ze),Qe=a(271),Ke=a.n(Qe),$e=a(272),et=a.n($e),tt=a(273),at=a.n(tt),nt=a(574),ot=Object(x.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(nt.a),rt=Object(H.a)({root:{backgroundColor:"#f1f8e9",zIndex:1,color:"#333",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{color:"#fafafa",backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{color:"#fafafa",backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)"}});function it(e){var t,a=rt(),n=e.active,r=e.completed,i={1:o.a.createElement(Xe.a,null),2:o.a.createElement(Ke.a,null),3:o.a.createElement(et.a,null),4:o.a.createElement(at.a,null)};return o.a.createElement("div",{className:Object(_e.a)(a.root,(t={},Object(Ae.a)(t,a.active,n),Object(Ae.a)(t,a.completed,r),t))},i[String(e.icon)])}function lt(e){var t=o.a.useState(e.stepNumber),a=Object(M.a)(t,2),n=(a[0],a[1],["Submitted","Approved","Working","Completed"]);return o.a.createElement("div",{style:{textAlign:"left"}},o.a.createElement(He.a,{alternativeLabel:!0,activeStep:e.stepNumber,connector:o.a.createElement(ot,null),style:{float:"left"}},n.map((function(e){return o.a.createElement(Ve.a,{key:e},o.a.createElement(Je.a,{StepIconComponent:it},e))}))))}var ct,st=a(637),mt=a(23),ut=a(276),pt=a.n(ut),dt=a(141),gt=a.n(dt),ht=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.root},o.a.createElement(re.a,{classes:{container:e.slider},value:this.props.value,min:1,max:10,step:1,valueLabelDisplay:"on",disabled:!0}))}}]),t}(o.a.Component),ft=Object(x.a)({root:{width:"100%"},slider:{padding:"22px 0px"}})(ht),bt=function(e){return o.a.createElement(C.a,{gutterBottom:!0,style:{marginBottom:e.marginBottom,color:e.color}},o.a.createElement("b",null,e.text))},Et=a(293),yt=function(e){return o.a.createElement("div",{style:{color:"#333"}},o.a.createElement(Et.a,{avatar:"https://i.ibb.co/Nry0dDp/image.png",side:e.side,messages:e.messageArray}))},vt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).setDescription=function(e){a.setState({commentText:e}),""===e?a.setState({buttonDisabled:!0}):a.setState({buttonDisabled:!1})},a.getAllComments=function(){z.a.post("http://ec2-3-12-44-217.us-east-2.compute.amazonaws.com:5000/api/reports/comments",{data:{caseId:a.state.caseId}}).then((function(e){ct.manageCommentData(e.data)})).catch((function(e){console.info("Problem with getting your comments!")}))},a.formatDateTime=function(e){var t=new Date(e),a=t.toLocaleString("en",{month:"long"}),n=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return t.getDate()+" "+a+", "+t.getFullYear()+" @ "+n+" \u2192 \n"},a.manageCommentData=function(e){if(e.length>0){var t=e[0].userType,n=[],r=[],i=1;e.map((function(l){return l.userType===t?(n.push(a.formatDateTime(l.commentDateTime)+l.commentText),t=l.userType):(r.push(o.a.createElement(yt,{messageArray:n,side:ct.getChatMessageSide(t)})),t=l.userType,(n=[]).push(a.formatDateTime(l.commentDateTime)+l.commentText)),i===e.length&&r.push(o.a.createElement(yt,{messageArray:n,side:ct.getChatMessageSide(t)})),++i,l})),ct.setState({commentComponentArray:r})}return!0},a.getChatMessageSide=function(e){return"U"===e?"right":"left"},a.handleSubmit=function(){z.a.post("http://ec2-3-12-44-217.us-east-2.compute.amazonaws.com:5000/api/submit/report/comment",{data:a.state}).then((function(e){ct.setState({emptyDescriptionBox:!0}),ct.state.makeBoxEmptyFunction(),a.getAllComments()})).catch((function(e){console.info("Problem with submitting your comment!")}))},a.makeEmpty=function(e){ct.setState({makeBoxEmptyFunction:e})},a.state={commentText:"",caseId:e.caseNumber,userType:"U",buttonDisabled:!0,commentComponentArray:[],emptyDescriptionBox:!1,makeBoxEmptyFunction:""},ct=Object(b.a)(a),a.getAllComments(),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("br",null),this.state.commentComponentArray.map((function(e,t){return o.a.createElement("div",{key:t},e)})),o.a.createElement("br",null),o.a.createElement(pe,{passMakeEmpty:this.makeEmpty,emptyBox:this.state.emptyDescriptionBox,updateDescription:ct.setDescription}),o.a.createElement(v.a,{onClick:function(){return e.handleSubmit()},color:"primary",disabled:this.state.buttonDisabled,style:{fontSize:"15px",fontWeight:"bold"}},"Submit"))}}]),t}(o.a.Component),xt=(a(374),Object(H.a)({root:{maxWidth:700},media:{height:140},mediaMap:{height:200},headerTextColor:{color:"white"}}));function St(e){var t=xt(),a="https://maps.googleapis.com/maps/api/staticmap?size=512x512&format=png&style=feature:road.highway%7Celement:geometry%7Cvisibility:simplified%7Ccolor:0xc280e9&style=feature:transit.line%7Cvisibility:simplified%7Ccolor:0xbababa&style=feature:road.highway%7Celement:labels.text.stroke%7Cvisibility:on%7Ccolor:0xb06eba&style=feature:road.highway%7Celement:labels.text.fill%7Cvisibility:on%7Ccolor:0xffffff&visible="+e.data.latitude+","+e.data.longitude+"&markers=color:red%7Clabel:A%7C"+e.data.latitude+","+e.data.longitude+"&key=AIzaSyDZBgT-uZYXzTSkTJbiDcYT4D_XYsS8aUQ&zoom=15";return o.a.createElement(ce.a,{style:{border:"2px solid rgba(255,255,255,0.1)"},className:t.root},o.a.createElement(ue.a,{className:t.media,image:e.data.imageURL}),o.a.createElement(me.a,null,o.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"}),o.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},o.a.createElement(C.a,{gutterBottom:!0},o.a.createElement(pt.a,null),"\xa0 \xa0 ",e.data.dateTime),o.a.createElement("br",null),o.a.createElement(C.a,{gutterBottom:!0},o.a.createElement(gt.a,null),"\xa0 \xa0 ",e.data.fullLocation),o.a.createElement("br",null),o.a.createElement(bt,{text:"Severity Rate",marginBottom:"40px",color:t.headerTextColor.color}),o.a.createElement(ft,{value:e.data.severity}),o.a.createElement("br",null),o.a.createElement(bt,{text:"Status",marginBottom:"15px",color:t.headerTextColor.color}),o.a.createElement(lt,{stepNumber:e.stepNumber}),o.a.createElement("p",{style:{marginTop:"120px",textAlign:"justify"}},o.a.createElement("hr",{style:{backgroundColor:"rgba(255, 255, 255, 0.1)"}}),o.a.createElement(bt,{text:"Complaint Description",marginBottom:"15px",color:t.headerTextColor.color}),e.data.fullDescription),o.a.createElement("br",null),o.a.createElement(ue.a,{className:t.mediaMap,image:a}),o.a.createElement("br",null),o.a.createElement("hr",{style:{backgroundColor:"rgba(255, 255, 255, 0.1)"}}),o.a.createElement(bt,{text:"Comments",marginBottom:"15px",color:t.headerTextColor.color}),o.a.createElement(vt,{caseNumber:e.data.caseNumber}))))}function Ct(e){var t,a=o.a.useState(!1),n=Object(M.a)(a,2),r=n[0],i=n[1],l=o.a.useState("paper"),c=Object(M.a)(l,2),s=c[0],m=c[1],u=Object(mt.a)(),p=Object(st.a)(u.breakpoints.down("lg")),d=function(){i(!1)},g=o.a.useRef(null);return o.a.useEffect((function(){if(r){var e=g.current;null!==e&&e.focus()}}),[r]),o.a.createElement("div",null,o.a.createElement(v.a,{className:e.buttonContentStyles,onClick:(t="paper",function(){i(!0),m(t)})},"View report"),o.a.createElement(de.a,{open:r,onClose:d,scroll:s,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullScreen:p},o.a.createElement(be.a,{id:"scroll-dialog-title"},"Report # ",e.caseNumber),o.a.createElement(he.a,{dividers:"paper"===s},o.a.createElement(St,{data:e})),o.a.createElement(ge.a,null,o.a.createElement(v.a,{onClick:d,color:"primary"},"Close"))))}var Ot=Object(Ue.a)((function(e){var t,a=e.breakpoints,n=e.spacing;return{root:Object(Ae.a)({margin:"auto",borderRadius:n(2),transition:"0.3s",boxShadow:"0px 14px 80px rgba(34, 35, 58, 0.2)",position:"relative",maxWidth:500,marginLeft:"auto",overflow:"initial",background:"#333",display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:n(2)},a.up("md"),{flexDirection:"row",paddingTop:n(2)}),media:(t={width:"88%",marginLeft:"auto",marginRight:"auto",marginTop:n(-3),height:0,paddingBottom:"48%",borderRadius:n(2),backgroundColor:"#fff",position:"relative"},Object(Ae.a)(t,a.up("md"),{width:"100%",marginLeft:n(-3),marginTop:0,transform:"translateX(-8px)"}),Object(Ae.a)(t,"&:after",{content:'" "',position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:n(2),opacity:.5}),t),content:{padding:24},cta:{marginTop:24,textTransform:"initial"}}})),kt=Object(Ue.a)((function(e){var t="-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif";return{overline:{textTransform:"uppercase",letterSpacing:"1px",fontSize:12,marginBottom:"0.875em",display:"inline-block"},heading:{fontSize:20,fontWeight:"bold",marginBottom:"0.35em",fontFamily:t},body:{marginBottom:(0,e.spacing)(4),fontSize:"0.8rem",letterSpacing:"0.00938em",fontFamily:t,color:"#eeeeee"},button:{backgroundImage:"linear-gradient(147deg, #2997f7 0%, #2997f7 74%)",borderRadius:5,paddingLeft:24,paddingRight:24,color:"#ffffff",marginTop:"25px",float:"right"}}})),wt=function(e){var t,n=Ot(),r=kt(),i=Object(Ge.a)(),l=a(375)(e.dateTime,"mmm d, yyyy"),c="submitted"===(t=e.status)?0:"approved"===t?1:"working"===t?2:"completed"===t?3:void 0;return o.a.createElement(ce.a,{className:Object(_e.a)(n.root,i.root)},o.a.createElement(ue.a,{className:n.media,image:e.imageURL}),o.a.createElement(me.a,null,o.a.createElement(qe.a,{classes:r,overline:l,heading:e.location,body:e.description}),o.a.createElement(lt,{stepNumber:c}),o.a.createElement(Ct,{imageURL:e.imageURL,dateTime:l,location:e.location,fullDescription:e.fullDescription,fullLocation:e.fullLocation,stepNumber:c,severity:e.severity,caseNumber:e.caseNumber,latitude:e.latitude,longitude:e.longitude,buttonContentStyles:r.button})))},jt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={dashboardData:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;z.a.post(g,{data:{userId:this.props.userId}}).then((function(t){e.setState({dashboardData:t.data})})).catch((function(e){console.info("Unable to retrieve user report")}))}},{key:"render",value:function(){return o.a.createElement("div",{style:{marginTop:"100px"}},o.a.createElement("div",{style:{textAlign:"center",color:"#fff"}}," ",o.a.createElement("div",{style:{display:"inline-block",backgroundColor:"#333",color:"#fff",paddingLeft:"60px",paddingRight:"60px",paddingTop:"5px",paddingBottom:"5px",fontWeight:"bold",fontSize:"20px",border:"2px solid #333",borderRadius:"5px"}},"Number of Reports \xa0 [ ",this.state.dashboardData.length," ]")),o.a.createElement("br",null),o.a.createElement("br",null),0===this.state.dashboardData.length&&o.a.createElement("div",{style:{textAlign:"center",fontWeight:"bold",fontSize:"24px",marginTop:"150px",color:"#333"}}," ","No Reports yet. ",o.a.createElement("br",null)," Click the Floating Action Button ",o.a.createElement("br",null)," to start Reporting now."),o.a.createElement(G.a,{container:!0,spacing:3},this.state.dashboardData.map((function(e){return o.a.createElement(G.a,{key:e.case_id,item:!0,xs:12},o.a.createElement(wt,{imageURL:e.imageURL,dateTime:e.created_date,fullLocation:e.location,fullDescription:e.description,location:e.location.length<27?e.location:e.location.substring(0,26)+" ...",description:e.description.lenght<150?e.description:e.description.substring(0,149)+" ...",status:e.status,severity:e.severity,caseNumber:e.case_id,latitude:e.latitude,longitude:e.longitude}),o.a.createElement("br",null),o.a.createElement("br",null))}))))}}]),t}(o.a.Component),It=a(106),Rt=a(78),Lt=Object(It.a)(Object(It.c)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDZBgT-uZYXzTSkTJbiDcYT4D_XYsS8aUQ&v=3.exp&libraries=geometry,drawing,places",loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"400px"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})}),Object(It.d)((function(){return{isOpen:!1,infoIndex:null}}),{onToggleOpen:function(e){var t=e.isOpen;e.infoIndex;return function(e){return{isOpen:!t,infoIndex:e}}}}),Rt.withScriptjs,Rt.withGoogleMap,Object(It.b)({componentDidMount:function(){var e=this;(new google.maps.DirectionsService).route({origin:new google.maps.LatLng(parseFloat(this.props.startLat),parseFloat(this.props.startLng)),destination:new google.maps.LatLng(parseFloat(this.props.endLat),parseFloat(this.props.endLng)),travelMode:google.maps.TravelMode.DRIVING},(function(t,a){if(a===google.maps.DirectionsStatus.OK){var n=e,o=[];z.a.post("http://ec2-3-12-44-217.us-east-2.compute.amazonaws.com:5000/api/reports/all").then((function(a){a.data.forEach((function(e,a){google.maps.geometry.poly.isLocationOnEdge(new google.maps.LatLng(e.latitude,e.longitude),new google.maps.Polyline({path:t.routes[0].overview_path}),.001)&&o.push(e)})),n.setState({directions:t,selectedReports:o}),e.props.manageCounts(o.length,t.routes[0].legs[0].duration.text+" ("+t.routes[0].legs[0].distance.text+")",7)}))}else console.info("Error Fetching Directions")}))}}))((function(e){return o.a.createElement(Rt.GoogleMap,{defaultZoom:8,defaultCenter:{lat:parseFloat(e.centerLat),lng:parseFloat(e.centerLng)}},e.directions&&o.a.createElement(Rt.DirectionsRenderer,{directions:e.directions}),e.selectedReports.map((function(t,a){var n;n=parseInt(t.severity)<=3?"https://i.ibb.co/2dzSbjJ/output-onlinepngtools-2.png":parseInt(t.severity)<=6?"https://i.ibb.co/RC2LmDh/output-onlinepngtools-1.png":"https://i.ibb.co/kMZV43H/output-onlinepngtools.png";var r=new window.google.maps.MarkerImage(n,null,null,null,new window.google.maps.Size(48,48));return o.a.createElement(Rt.Marker,{icon:r,key:a,position:{lat:parseFloat(t.latitude),lng:parseFloat(t.longitude)},onClick:function(){return e.onToggleOpen(a)}},e.isOpen&&e.infoIndex===a&&o.a.createElement(Rt.InfoWindow,{onCloseClick:e.onToggleOpen,key:a,visible:!0},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"3px",marginRight:"3px"}},o.a.createElement("div",{style:{color:"#212121",paddingRight:"10px",paddingBottom:"10px",fontWeight:"bold",lineHeight:1.5}},"Reported On: ",t.created_date.split(" ")[0],o.a.createElement("hr",{style:{marginTop:"3px",marginBottom:"3px"}}),"Current Status:"," ",t.status.charAt(0).toUpperCase()+t.status.slice(1),o.a.createElement("hr",{style:{marginTop:"3px",marginBottom:"3px"}}),"Reported Severity: ",t.severity,"/10"," "),o.a.createElement("div",null,o.a.createElement("img",{src:t.imageURL,width:"200px",style:{border:"2px solid black",borderRadius:"10px",marginRight:"10px",marginBottom:"10px"},alt:"Validated Pothole"})))))})))})),Tt=a(649),Dt=a(648),Bt=a(638),Nt=a(280),Ft=a.n(Nt),At=a(281),Ut=a.n(At),zt=a(143),Pt=a.n(zt),Mt=Object(H.a)({root:{flexGrow:1,maxWidth:600,borderRadius:"3px",border:"1px SOLID #212121",marginBottom:"10px"}});function Wt(e){var t=Mt();return o.a.createElement("center",null,o.a.createElement(S.a,{square:!0,className:t.root},o.a.createElement(Dt.a,{value:0,indicatorColor:"#333",textColor:"#fff",centered:!0},o.a.createElement(Bt.a,{icon:o.a.createElement(Ft.a,{color:"primary"}),label:e.totalCount+" Pothole(s)",disabled:!0}),o.a.createElement(Bt.a,{icon:o.a.createElement(Ut.a,{color:"primary"}),label:e.eta,disabled:!0}))),o.a.createElement(S.a,{square:!0,className:t.root},o.a.createElement(Dt.a,{value:0,indicatorColor:"#333",textColor:"#fff",centered:!0},o.a.createElement(Bt.a,{icon:o.a.createElement(Pt.a,{style:{color:"#4747f4"}}),label:"Low Severity",disabled:!0}),o.a.createElement(Bt.a,{icon:o.a.createElement(Pt.a,{style:{color:"orange"}}),label:"Medium Severity",disabled:!0}),o.a.createElement(Bt.a,{icon:o.a.createElement(Pt.a,{style:{color:"red"}}),label:"High Severity",disabled:!0}))))}var Yt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).setSourceLocation=function(e,t){a.setState({startAddress:e,startLat:t.lat,startLng:t.lng})},a.setDestinationLocation=function(e,t){a.setState({endAddress:e,endLat:t.lat,endLng:t.lng})},a.manageCounts=function(e,t,n){a.setState({counterIndicators:o.a.createElement(Wt,{totalCount:e,eta:t,lowSeverity:7,mediumSeverity:8,highSeverity:10})})},a.submitOrignDestination=function(){a.setState({map:"Loading ... "},(function(){""!==a.state.startLat&&""!==a.state.startLng&&""!==a.state.endLat&&""!==a.state.endLng?a.setState({map:o.a.createElement("div",{style:{border:"2px SOLID white",borderRadius:"5px",marginTop:"15px"}},o.a.createElement(Lt,{manageCounts:a.manageCounts,centerLat:"-34.397",centerLng:"150.644",startLat:a.state.startLat,startLng:a.state.startLng,endLat:a.state.endLat,endLng:a.state.endLng,selectedReports:a.state.selectedReports,directions:!0}))}):a.setState({map:o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement(Tt.a,{variant:"filled",severity:"info"},"This is an error alert \u2014 Cannot make map, try again!"))})}))},a.state={centerLat:"",centerLng:"",startLat:"",startLng:"",endLat:"",endLng:"",startAddress:"",endAddress:"",selectedReports:[],map:"",counterIndicators:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(ce.a,{className:t.root},o.a.createElement(me.a,null,o.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Route It"),o.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},"Use this to plan your travel, see the route to your destination and how severe it could be to travel. Also, monitor any route to see the progress for the reported pothole(s)."),o.a.createElement(ae,{label:"Source Location",updateLocation:this.setSourceLocation,currentLocationOptional:!0}),o.a.createElement(ae,{label:"Destination Location",updateLocation:this.setDestinationLocation,currentLocationOptional:!0}),o.a.createElement(v.a,{size:"large",color:"primary",onClick:function(){return e.submitOrignDestination()},className:t.buttonSubmit},"Get Route"),this.state.counterIndicators,this.state.map))}}]),t}(o.a.Component),_t=Object(x.a)((function(e){return{root:{maxWidth:"100%",marginRight:"2%",marginLeft:"2%",marginTop:"100px",marginBottom:"30px"},buttonSubmit:{marginTop:"7px"},map:{border:"2px SOLID white",borderRadius:"5px"}}}))(Yt),qt=a(282),Gt=a(655),Ht=a(639),Vt=a(640),Jt=a(641),Zt=a(620),Xt=a(619),Qt=a(283),Kt=a.n(Qt),$t=a(284),ea=a.n($t),ta=a(285),aa=a.n(ta),na=a(642),oa=a(286),ra=a.n(oa),ia=a(288),la=a.n(ia),ca=a(289),sa=a.n(ca),ma=a(287),ua=a.n(ma),pa=a(643),da=a(644),ga=Object(H.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(qt.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},inputRoot:{color:"inherit"},inputInput:Object(Ae.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}}));function ha(){var e=ga(),t=Object(mt.a)(),a=o.a.useState(!1),n=Object(M.a)(a,2),r=n[0],i=n[1],l=function(){i(!1)};return o.a.createElement("div",{className:e.root},o.a.createElement(Ht.a,null),o.a.createElement(Vt.a,{position:"fixed",className:Object(_e.a)(e.appBar,Object(Ae.a)({},e.appBarShift,r))},o.a.createElement(Jt.a,null,o.a.createElement(Xt.a,{color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},edge:"start",className:Object(_e.a)(e.menuButton,r&&e.hide)},o.a.createElement(Kt.a,null)),o.a.createElement(C.a,{variant:"h5",noWrap:!0},"Spothole"))),o.a.createElement(Gt.a,{className:e.drawer,variant:"persistent",anchor:"left",open:r,classes:{paper:e.drawerPaper}},o.a.createElement("div",{className:e.drawerHeader},o.a.createElement(Xt.a,{onClick:l},"ltr"===t.direction?o.a.createElement(ea.a,null):o.a.createElement(aa.a,null))),o.a.createElement(Fe.a,null),o.a.createElement(Zt.a,null,o.a.createElement(f.b,{to:"/report"},o.a.createElement(na.a,{onClick:l,button:!0,key:"Report"},o.a.createElement(pa.a,null,o.a.createElement($.a,{color:"primary"})),o.a.createElement(da.a,{primary:"Report Pothole"}))),o.a.createElement(f.b,{to:"/"},o.a.createElement(na.a,{onClick:l,button:!0,key:"Dashboard"},o.a.createElement(pa.a,null,o.a.createElement(ra.a,{color:"primary"})),o.a.createElement(da.a,{primary:"My Complaints"}))),o.a.createElement(f.b,{to:"/routing"},o.a.createElement(na.a,{onClick:l,button:!0,key:"Route Navigaton"},o.a.createElement(pa.a,null,o.a.createElement(ua.a,{color:"primary"})),o.a.createElement(da.a,{primary:"Route Navigation"}))),o.a.createElement(f.b,{to:"/profile"},o.a.createElement(na.a,{onClick:l,button:!0,key:"Profile"},o.a.createElement(pa.a,null,o.a.createElement(la.a,{color:"primary"})),o.a.createElement(da.a,{primary:"Profile"})))),o.a.createElement(f.b,{to:"/logout"},o.a.createElement(na.a,{onClick:l,button:!0,key:"Logout"},o.a.createElement(pa.a,null,o.a.createElement(sa.a,{color:"primary"})),o.a.createElement(da.a,{primary:"Logout"})))))}var fa=a(291),ba=a.n(fa),Ea=a(645),ya=function(){return o.a.createElement("div",{style:{marginTop:"50px"}})},va=a(290),xa=a.n(va),Sa=Object(H.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random?road)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),marginTop:"50px",backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{marginTop:"50px",maxWidth:"250px",paddingTop:"15px",paddingBottom:"15px"}}}));function Ca(e){var t=Sa();return o.a.createElement(G.a,{container:!0,component:"main",className:t.root},o.a.createElement(Ht.a,null),o.a.createElement(G.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),o.a.createElement(G.a,{item:!0,xs:12,sm:8,md:5,component:S.a,elevation:6,square:!0,style:{backgroundImage:"url('https://images.unsplash.com/photo-1543839482-a95d35fc5a77?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=900&q=80'), linear-gradient(rgba(0,0,0,0.6),rgba(0,0,0,0.6))",backgroundBlendMode:"overlay",borderLeft:"5px SOLID #212121"}},o.a.createElement("div",{className:t.paper},o.a.createElement(C.a,{component:"h1",variant:"h1",style:{marginTop:"100px"}},o.a.createElement("b",null,o.a.createElement(gt.a,{fontSize:"inherit"}))),o.a.createElement("br",null),o.a.createElement(C.a,{component:"h1",variant:"h3"},o.a.createElement("b",null,"Spothole")),o.a.createElement("br",null),o.a.createElement(C.a,{component:"h1",variant:"h5",style:{marginTop:"100px"}},o.a.createElement("b",null,"Sign In")),o.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){return document.getElementsByClassName("abcRioButton")[0].click()}},o.a.createElement("b",null,"Sign In With Google \xa0",o.a.createElement(xa.a,null))))))}var Oa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).callRender=function(e){window.gapi.load("signin2",(function(){var t={width:0,height:0,client_id:p,onsuccess:e,longTitle:!1,theme:"dark"};gapi.signin2.render("loginButton",t)}))},a.logout=function(){a.state.isSignedIn?window.gapi.auth2.getAuthInstance().signOut().then((function(){a.setState({isSignedIn:a.auth2.isSignedIn.get()},(function(){localStorage.setItem("signedIn",!1),a.urlRedirect(h)}))})):console.info("Already Signed In")},a.urlRedirect=function(e){var t=setTimeout((function(){return window.location.replace(e),!0}),300);return(window.location=e)||(window.location.href=e)?(clearTimeout(t),!0):(clearTimeout(t),window.location.replace(e),!0)},a.postProfileData=function(e){z.a.post("http://ec2-3-12-44-217.us-east-2.compute.amazonaws.com:5000/api/profile/update",{data:{userId:e.getId(),emailId:e.getEmail(),name:e.getName(),photoURL:e.getImageUrl()}})},a.navigationBar=function(){return o.a.createElement("div",null," ",o.a.createElement(ha,null),o.a.createElement(f.b,{to:"/report"},o.a.createElement(Ea.a,{color:"secondary","aria-label":"add",style:{position:"fixed",zIndex:1,right:0,bottom:0,marginRight:"25px",marginBottom:"25px"}},o.a.createElement(ba.a,null))),o.a.createElement(ya,null)," ")},a.state={isSignedIn:!1,userId:"",profileName:"",profileEmail:"",profilePhotoURL:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.onSuccess.bind(this);window.gapi.load("auth2",(function(){e.auth2=gapi.auth2.init({client_id:p}),e.auth2.then((function(){var t=window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile();e.setState({isSignedIn:e.auth2.isSignedIn.get(),userId:t.getId()||"",profileName:t.getName()||"",profileEmail:t.getEmail()||"",profilePhotoURL:t.getImageUrl()||""})}))})),this.callRender(t)}},{key:"onSuccess",value:function(){var e=this,t=window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile();localStorage.setItem("signedIn",!0),this.setState({isSignedIn:!0,err:null,userId:t.getId(),profileName:t.getName(),profileEmail:t.getEmail(),profilePhotoURL:t.getImageUrl()},(function(){e.postProfileData(t)}))}},{key:"onLoginFailed",value:function(e){this.setState({isSignedIn:!1,error:e})}},{key:"loginStatus",value:function(){if("true"===localStorage.getItem("signedIn")&&this.state.isSignedIn)switch(this.props.linkTo){case"/dashboard":return o.a.createElement("div",null,o.a.createElement(jt,{userId:this.state.userId}),this.navigationBar());case"/report":return o.a.createElement("div",null,o.a.createElement(De,{userId:this.state.userId}),this.navigationBar());case"/logout":this.logout();break;case"/routing":return o.a.createElement("div",null,o.a.createElement(_t,{userId:this.state.userId}),this.navigationBar());case"/profile":return o.a.createElement("div",null,o.a.createElement(Ye,{userId:this.state.userId,name:this.state.profileName,email:this.state.profileEmail,photoURL:this.state.profilePhotoURL}),this.navigationBar());case"/":default:return o.a.createElement("div",null,o.a.createElement(jt,{userId:this.state.userId}),this.navigationBar())}else{if("false"!==localStorage.getItem("signedIn")||!this.state.isSignedIn)return"true"!==localStorage.getItem("signedIn")?o.a.createElement("div",null,o.a.createElement("div",{id:"loginButton",style:{display:"none"}},"Login with Google"),o.a.createElement(Ca,null)):o.a.createElement("div",null);this.urlRedirect(h)}}},{key:"render",value:function(){return o.a.createElement("div",null,this.loginStatus())}}]),t}(n.Component),ka=a(72),wa=(a(569),a(634)),ja=a(292),Ia=Object(ja.a)({palette:{type:"dark",primary:{main:"#2997f7"},secondary:{main:"#ff0000"}},overrides:{MuiPaper:{root:{backgroundColor:"#333"}},MuiStepper:{root:{padding:"0px"}}}});var Ra=function(){return o.a.createElement(wa.a,{theme:Ia},o.a.createElement(f.a,null,o.a.createElement("div",null,o.a.createElement(ka.c,null,o.a.createElement(ka.a,{path:"/spothole/report",exact:!0},o.a.createElement(Oa,{linkTo:"/spothole/report"})),o.a.createElement(ka.a,{path:"/spothole/profile",exact:!0},o.a.createElement(Oa,{linkTo:"/spothole/profile"})),o.a.createElement(ka.a,{path:"/spothole/logout",exact:!0},o.a.createElement(Oa,{linkTo:"/spothole/logout"})),o.a.createElement(ka.a,{path:"/spothole/routing",exact:!0},o.a.createElement(Oa,{linkTo:"/spothole/routing"})),o.a.createElement(ka.a,{path:"/spothole/dashboard",exact:!0},o.a.createElement(Oa,{linkTo:"/spothole/dashboard"})),o.a.createElement(ka.a,{path:"/",exact:!0},o.a.createElement(Oa,{linkTo:"/spothole/dashboard"})),o.a.createElement(ka.a,{path:"/spothole",exact:!0},o.a.createElement(Oa,{linkTo:"/spothole/dashboard"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(Ra,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[319,1,2]]]);
//# sourceMappingURL=main.b48c4463.chunk.js.map