{"version":3,"sources":["utility/constants.js","components/camera/index.js","components/uploads/index.js","components/service/index.js","components/search_places/index.js","components/new_report/index.js","navigation/index.js","components/step_slider/index.js","components/description/index.js","components/alert_dialog/index.js","components/camera_upload_separator/index.js","components/linear_progress/index.js","components/stepper/index.js","components/rewards_card/index.js","navigation/profile/index.js","components/comments/index.js","components/severity_indicator/index.js","components/header_text_card/index.js","components/chat_message_box/index.js","components/modal_data_card/index.js","components/detailed_data_modal/index.js","components/expandable_card/index.js","navigation/dashboard/index.js","components/route_maker/index.js","components/counter_indicator/index.js","navigation/routing/index.js","navigation/navbar/index.js","components/header_separator/index.js","components/signup/index.js","components/authentication/index.js","components/not_found/index.js","App.js","serviceWorker.js","index.js"],"names":["CLIENT_ID","CameraComponent","dataUri","console","log","error","stream","Paper","variant","style","width","marginLeft","marginTop","Button","color","zIndex","float","marginBottom","marginRight","onClick","props","cameraClosed","onTakePhoto","onCapture","onTakePhotoAnimationDone","handleTakePhotoAnimationDone","onCameraError","handleCameraError","idealFacingMode","FACING_MODES","ENVIRONMENT","idealResolution","height","imageType","IMAGE_TYPES","JPG","imageCompression","isMaxResolution","isImageMirror","isSilentMode","isDisplayStartCameraError","isFullscreen","sizeFactor","onCameraStart","handleCameraStart","onCameraStop","handleCameraStop","Typography","component","textAlign","fontSize","backgroundColor","React","Component","withStyles","theme","root","flexGrow","paper","padding","spacing","palette","text","secondary","cursor","position","top","transform","registerPlugin","FilePondPluginImageExifOrientation","FilePondPluginImagePreview","FilePondPluginFileValidateType","FilePondPluginFileValidateSize","UploadFiles","this","updateFilePondRef","pond","response","imageURL","JSON","parse","validation","classes","className","display","ref","acceptedFileTypes","labelIdle","label","allowMultiple","oninit","handleInit","maxFileSize","allowFileSizeValidation","server","process","url","AWS_SERVER_DOMAIN","onload","loaded","maxWidth","Request","axios","post","image_url","then","validationCompleted","catch","info","autocompleteService","current","useStyles","makeStyles","icon","textInput","labelText","buttonCurrentLocation","LocationSearchInput","useState","inputValue","setInputValue","options","setOptions","errorRequired","updateRequired","currentLocation","currentLatLngValue","useRef","window","document","querySelector","src","id","script","createElement","setAttribute","appendChild","loadScript","handleChange","event","target","value","trim","undefined","currentLocationOptional","updateLocation","fetch","useMemo","throttle","request","callback","getPlacePredictions","useEffect","active","google","maps","places","AutocompleteService","input","results","gutterBottom","Autocomplete","getOptionLabel","option","description","filterOptions","x","autoComplete","includeInputInList","disableOpenOnFocus","fullWidth","onChange","get","place_id","res","renderInput","params","TextField","renderOption","matches","structured_formatting","main_text_matched_substrings","parts","main_text","map","match","offset","length","Grid","container","alignItems","item","xs","part","index","key","fontWeight","highlight","secondary_text","Chip","permissionLocationValue","self","StepSlider","state","setState","updateSeverity","Slider","slider","min","max","step","valueLabelDisplay","DescriptionBox","makeEmpty","content","checkRequired","textFieldRef","descriptionValue","updateDescription","createRef","passMakeEmpty","inputRef","required","placeholder","multiline","rows","rowsMax","AlertDialog","handleClose","linkTo","location","href","reload","updateCloseDialogState","justClose","Dialog","open","dialogOpenState","onClose","aria-labelledby","aria-describedby","DialogTitle","title","DialogContent","DialogContentText","DialogActions","autoFocus","buttonText","CreateReport","setLocation","latLngLocation","locationLatLng","setPermissionBasedLocation","permissionLocation","permissionLocationLatLng","showPosition","coords","latitude","longitude","result","getLocation","navigator","geolocation","getCurrentPosition","setSeverity","severity","setDescription","updateCancelDialogState","cancelDialogOpenState","submitForm","postLocation","postLocationLatLng","data","userId","showSubmittedFeedback","err","makeBoxEmpty","makeBoxEmptyFunction","showCancelAlert","navigateToNewReport","reportData","split","Card","CardMedia","alt","image","CardContent","CardActions","size","to","CameraUploadSeparator","justify","sm","toggleCameraComponent","toggleUploadComponent","borderRadius","border","LinearIndeterminate","LinearProgress","currentSteps","KickStart","uploadClickedFile","fileData","removeCameraFromView","enableUploadFilesComponent","fileDataCopy","filePondRef","addFile","buttons","validationMessage","validateComponent","cameraEnabled","enableCameraComponent","uploadEnabled","getButtons","onCloseCamera","withCamera","breakpoints","card","transition","boxShadow","overflow","flexDirection","paddingLeft","paddingRight","background","up","media","flexShrink","paddingTop","media2","overline","lineHeight","opacity","heading","letterSpacing","button","textTransform","RewardCard","styles","score","backgroundImage","Profile","submittedCount","approvedCount","completedCount","filter","report","status","Math","ceil","parseFloat","minWidth","Avatar","margin","photoURL","name","email","Divider","Box","p","flex","fontFamily","ColorlibConnector","alternativeLabel","completed","line","StepConnector","useColorlibStepIconStyles","justifyContent","ColorlibStepIcon","icons","1","2","3","4","clsx","String","CustomizedSteppers","stepNumber","steps","Stepper","activeStep","connector","Step","StepLabel","StepIconComponent","SeverityIndicator","disabled","HeaderTextCard","ChatMessage","ChatMsg","avatar","side","messages","messageArray","Comments","commentText","buttonDisabled","getAllComments","caseId","manageCommentData","formatDateTime","dateTimeToFormat","dateTime","Date","formattedMonth","toLocaleString","month","formattedTime","toLocaleTimeString","hour","minute","getDate","getFullYear","commentsData","prevUserType","userType","currentSequence","commentComponentArray","counter","comment","push","commentDateTime","getChatMessageSide","handleSubmit","emptyDescriptionBox","caseNumber","i","emptyBox","mediaMap","headerTextColor","DetailedDataCard","mapImageURL","fullLocation","fullDescription","DetailedDataModal","scrollType","setOpen","scroll","setScroll","useTheme","fullScreen","useMediaQuery","down","descriptionElementRef","descriptionElement","focus","buttonContentStyles","dividers","paddingBottom","left","cta","contentStylesX","family","body","ReportItemCard","contentStyles","shadowStyles","useOverShadowStyles","require","dateFormat","cx","Dashboard","dashboardData","case_id","created_date","substring","lenght","MapWithADirectionsRenderer","compose","withProps","googleMapURL","loadingElement","containerElement","mapElement","withStateHandlers","isOpen","infoIndex","onToggleOpen","withScriptjs","withGoogleMap","lifecycle","componentDidMount","DirectionsService","route","origin","LatLng","startLat","startLng","destination","endLat","endLng","travelMode","TravelMode","DRIVING","DirectionsStatus","OK","selectedReports","forEach","geometry","poly","isLocationOnEdge","Polyline","path","routes","overview_path","directions","manageCounts","legs","duration","distance","defaultZoom","defaultCenter","lat","centerLat","lng","centerLng","iconMarkerImage","parseInt","iconMarker","MarkerImage","Size","onCloseClick","visible","charAt","toUpperCase","slice","CounterIndicator","square","Tabs","indicatorColor","textColor","centered","Tab","totalCount","eta","Routing","setSourceLocation","startAddress","setDestinationLocation","endAddress","counterIndicators","lowSeverity","mediumSeverity","highSeverity","submitOrignDestination","Alert","buttonSubmit","appBar","transitions","create","easing","sharp","leavingScreen","appBarShift","easeOut","enteringScreen","menuButton","hide","drawer","drawerPaper","drawerHeader","mixins","toolbar","contentShift","inputRoot","inputInput","PersistentDrawerLeft","handleDrawerClose","CssBaseline","AppBar","Toolbar","IconButton","aria-label","edge","noWrap","Drawer","anchor","direction","List","ListItem","ListItemIcon","ListItemText","primary","HeaderSeparator","backgroundRepeat","type","grey","backgroundSize","backgroundPosition","main","form","submit","SignInSide","md","elevation","backgroundBlendMode","borderLeft","getElementsByClassName","click","Auth","callRender","successCallback","gapi","load","opts","client_id","onsuccess","longTitle","signin2","render","logout","redirectTo","isSignedIn","auth2","getAuthInstance","signOut","localStorage","setItem","urlRedirect","X","setTimeout","replace","clearTimeout","validateAndPostProfileData","basicProfile","emailId","getEmail","getId","getName","getImageUrl","navigationBar","Fab","right","bottom","profileName","profileEmail","profilePhotoURL","onSuccess","bind","init","currentUser","getBasicProfile","getItem","loginStatus","NotFound","createMuiTheme","overrides","MuiPaper","MuiStepper","App","ThemeProvider","exact","Boolean","hostname","ReactDOM","getElementById","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.d1c2ca34.chunk.js","sourcesContent":["// all server and image constants.\r\nexport const CLIENT_ID =\r\n  \"53865530561-eoook3l9t27uvkec6561d3aolde6mims.apps.googleusercontent.com\";\r\nexport const AWS_SERVER_DOMAIN = \"https://spothole.ml:5000\";\r\nexport const GET_ALL_REPORTS = AWS_SERVER_DOMAIN + \"/api/reports/all\";\r\nexport const GET_USER_REPORTS = AWS_SERVER_DOMAIN + \"/api/reports\";\r\nexport const SUBMIT_REPORT_COMMENT =\r\n  AWS_SERVER_DOMAIN + \"/api/submit/report/comment\";\r\nexport const GET_REPORT_COMMENTS = AWS_SERVER_DOMAIN + \"/api/reports/comments\";\r\nexport const SUBMIT_USER_REPORT = AWS_SERVER_DOMAIN + \"/api/submit/report\";\r\nexport const UPLOAD_MEDIA = AWS_SERVER_DOMAIN + \"/api/upload\";\r\nexport const DETECT_SINGLE_IMAGE = AWS_SERVER_DOMAIN + \"/api/detect/single\";\r\nexport const POST_PROFILE_DATA = AWS_SERVER_DOMAIN + \"/api/profile/update\";\r\nexport const VALIDATE_USER = AWS_SERVER_DOMAIN + \"/api/user/validate\";\r\nexport const HOST_NAME = \"http://nirbhay.me/spothole\";\r\nexport const AUTHORITY_CHAT_LOGO = \"https://i.ibb.co/Nry0dDp/image.png\";\r\nexport const ROUTE_ICON_IMAGE =\r\n  \"https://cdn4.iconfinder.com/data/icons/car-accident-2/512/pothole-road-hole-danger-street-accident-512.png\";\r\nexport const ROUTE_ICON_IMAGE_LOW =\r\n  \"https://i.ibb.co/2dzSbjJ/output-onlinepngtools-2.png\";\r\nexport const ROUTE_ICON_IMAGE_MEDIUM =\r\n  \"https://i.ibb.co/RC2LmDh/output-onlinepngtools-1.png\";\r\nexport const ROUTE_ICON_IMAGE_HIGH =\r\n  \"https://i.ibb.co/kMZV43H/output-onlinepngtools.png\";\r\nexport const UA_LOGIN = \"https://nirbhay.me/spothole/UALogin\";\r\n","// contains the camera component\r\n// uses the web rtc protocol for the same\r\n// uses the react-html5-camera-photo library\r\n// contains a customised styling layout for the camera component\r\nimport React from \"react\";\r\nimport Camera, { FACING_MODES, IMAGE_TYPES } from \"react-html5-camera-photo\";\r\nimport \"react-html5-camera-photo/build/css/index.css\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\n\r\nconst useStyles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    marginTop: \"60px\"\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: \"center\",\r\n    color: theme.palette.text.secondary,\r\n    cursor: \"pointer\",\r\n    height: \"480px\",\r\n    marginRight: \"10px\",\r\n    marginLeft: \"10px\"\r\n  },\r\n  text: {\r\n    fontSize: \"24px\",\r\n    position: \"relative\",\r\n    top: \"50%\",\r\n    transform: \"translateY(-50%)\"\r\n  }\r\n});\r\n\r\nclass CameraComponent extends React.Component {\r\n  // camera helper methods\r\n  handleTakePhoto(dataUri) {\r\n    console.log(\"takePhoto\");\r\n  }\r\n\r\n  handleTakePhotoAnimationDone(dataUri) {\r\n    console.log(\"takePhoto\", dataUri);\r\n  }\r\n\r\n  handleCameraError(error) {\r\n    console.log(\"handleCameraError\", error);\r\n  }\r\n\r\n  handleCameraStart(stream) {\r\n    console.log(\"handleCameraStart\");\r\n  }\r\n\r\n  handleCameraStop() {\r\n    console.log(\"handleCameraStop\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Paper\r\n        variant=\"outlined\"\r\n        style={{ width: \"80%\", marginLeft: \"10%\", marginTop: \"150px\" }}\r\n      >\r\n        <Button\r\n          color=\"secondary\"\r\n          variant=\"contained\"\r\n          style={{\r\n            zIndex: 1,\r\n            float: \"right\",\r\n            marginBottom: \"10px\",\r\n            marginRight: \"10px\",\r\n            marginTop: \"10px\"\r\n          }}\r\n          onClick={() => this.props.cameraClosed()}\r\n        >\r\n          Close Camera &nbsp;\r\n          <HighlightOffIcon />\r\n        </Button>\r\n        <Camera\r\n          onTakePhoto={dataUri => {\r\n            this.props.onCapture(dataUri);\r\n          }}\r\n          onTakePhotoAnimationDone={dataUri => {\r\n            this.handleTakePhotoAnimationDone(dataUri);\r\n          }}\r\n          onCameraError={error => {\r\n            this.handleCameraError(error);\r\n          }}\r\n          idealFacingMode={FACING_MODES.ENVIRONMENT}\r\n          idealResolution={{ width: 600, height: 480 }}\r\n          imageType={IMAGE_TYPES.JPG}\r\n          imageCompression={0.97}\r\n          isMaxResolution={true}\r\n          isImageMirror={false}\r\n          isSilentMode={false}\r\n          isDisplayStartCameraError={true}\r\n          isFullscreen={false}\r\n          sizeFactor={1}\r\n          onCameraStart={stream => {\r\n            this.handleCameraStart(stream);\r\n          }}\r\n          onCameraStop={() => {\r\n            this.handleCameraStop();\r\n          }}\r\n        />\r\n        <Typography\r\n          variant=\"body2\"\r\n          color=\"textSecondary\"\r\n          component=\"p\"\r\n          style={{\r\n            marginTop: \"-5px\",\r\n            textAlign: \"center\",\r\n            fontSize: \"18px\",\r\n            backgroundColor: \"#2997f7\",\r\n            color: \"white\"\r\n          }}\r\n        >\r\n          <b>Click a Picture with a Pothole to get started!</b>\r\n        </Typography>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(CameraComponent);\r\n","// this is the filepond plugin for uploaded media files\r\n// accepts png/jpg/jpeg filetypes.\r\nimport React from \"react\";\r\n// Import React FilePond\r\nimport { FilePond, registerPlugin } from \"react-filepond\";\r\n// Import FilePond styles\r\nimport \"filepond/dist/filepond.min.css\";\r\nimport FilePondPluginImageExifOrientation from \"filepond-plugin-image-exif-orientation\";\r\nimport FilePondPluginImagePreview from \"filepond-plugin-image-preview\";\r\nimport \"filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { UPLOAD_MEDIA } from \"./../../utility/constants.js\";\r\nimport FilePondPluginFileValidateType from \"filepond-plugin-file-validate-type\";\r\nimport FilePondPluginFileValidateSize from \"filepond-plugin-file-validate-size\";\r\n\r\n// Register the plugins\r\nregisterPlugin(\r\n  FilePondPluginImageExifOrientation,\r\n  FilePondPluginImagePreview,\r\n  FilePondPluginFileValidateType,\r\n  FilePondPluginFileValidateSize\r\n);\r\n\r\nconst useStyles = theme => ({\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: \"center\",\r\n    color: theme.palette.text.secondary,\r\n    cursor: \"pointer\",\r\n    height: \"500px\",\r\n    marginRight: \"10px\",\r\n    marginLeft: \"10px\",\r\n    maxWidth: \"60%\",\r\n    position: \"relative\",\r\n    top: \"50%\",\r\n    transform: \"translate(32%, 20%)\"\r\n  },\r\n  text: {\r\n    fontSize: \"24px\",\r\n    position: \"relative\",\r\n    top: \"50%\",\r\n    transform: \"translateY(-50%)\"\r\n  }\r\n});\r\n\r\nclass UploadFiles extends React.Component {\r\n  handleInit() {\r\n    this.props.updateFilePondRef(this.pond);\r\n  }\r\n\r\n  loaded(response) {\r\n    let imageURL = JSON.parse(response)[\"filename\"][0];\r\n    this.props.validation(imageURL);\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div\r\n        className=\"App\"\r\n        style={{\r\n          marginTop: \"100px\",\r\n          marginLeft: \"20px\",\r\n          marginRight: \"20px\",\r\n          display: this.props.display\r\n        }}\r\n      >\r\n        <Paper variant=\"outlined\" className={classes.paper}>\r\n          <div className={classes.text}>\r\n            <FilePond\r\n              ref={ref => (this.pond = ref)}\r\n              acceptedFileTypes={[\"image/png\", \"image/jpg\", \"image/jpeg\"]}\r\n              labelIdle={this.props.label}\r\n              allowMultiple={false}\r\n              oninit={() => this.handleInit()}\r\n              maxFileSize={\"10MB\"}\r\n              allowFileSizeValidation={true}\r\n              server={{\r\n                process: {\r\n                  url: UPLOAD_MEDIA,\r\n                  onload: response => this.loaded(response)\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(UploadFiles);\r\n","// utility request component for validating image captured/uploaded\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { DETECT_SINGLE_IMAGE } from \"./../../utility/constants.js\";\r\n\r\nclass Request extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    axios\r\n      .post(DETECT_SINGLE_IMAGE, {\r\n        image_url: props.imageURL\r\n      })\r\n      .then(function(response) {\r\n        props.validationCompleted(response);\r\n      })\r\n      .catch(function(error) {\r\n        console.info(\"Unable to validate image!\");\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return <div />;\r\n  }\r\n}\r\n\r\nexport default Request;\r\n","// this component is used for the following functions:\r\n// 1]. this is an autoComplete service for searching locations and\r\n// acquiring LatLng of selected locations. contains functionality to build\r\n// the autoComplete search suggestion options. includes styling for the same.\r\n// 2]. this uses the google maps API and the geocoder API.\r\n// 3]. it also gives the option to use current location (optional props)\r\n// 4]. it is used in the new report section and the route navigation section.\r\nimport React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport parse from \"autosuggest-highlight/parse\";\r\nimport throttle from \"lodash/throttle\";\r\nimport axios from \"axios\";\r\nimport { Chip } from \"@material-ui/core\";\r\nimport AddLocationIcon from \"@material-ui/icons/AddLocation\";\r\n\r\nfunction loadScript(src, position, id) {\r\n  if (!position) {\r\n    return;\r\n  }\r\n\r\n  const script = document.createElement(\"script\");\r\n  script.setAttribute(\"async\", \"\");\r\n  script.setAttribute(\"id\", id);\r\n  script.src = src;\r\n  position.appendChild(script);\r\n}\r\n\r\nconst autocompleteService = { current: null };\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  icon: {\r\n    color: theme.palette.text.secondary,\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  textInput: {\r\n    marginBottom: \"10px\"\r\n  },\r\n  labelText: {\r\n    marginTop: \"25px\",\r\n    marginBottom: \"10px\"\r\n  },\r\n  buttonCurrentLocation: {\r\n    marginBottom: \"15px\"\r\n  }\r\n}));\r\n\r\nexport default function LocationSearchInput(props) {\r\n  const classes = useStyles();\r\n  const [inputValue, setInputValue] = React.useState(\"\");\r\n  const [options, setOptions] = React.useState([]);\r\n  const [errorRequired, updateRequired] = React.useState(false);\r\n  const [currentLocation, setCurrentLocationValue] = React.useState(\"\");\r\n  const [currentLatLngValue, setCurrentLatLngValue] = React.useState(\"\");\r\n\r\n  const loaded = React.useRef(false);\r\n\r\n  if (typeof window !== \"undefined\" && !loaded.current) {\r\n    if (!document.querySelector(\"#google-maps\")) {\r\n      loadScript(\r\n        \"https://maps.googleapis.com/maps/api/js?key=AIzaSyDZBgT-uZYXzTSkTJbiDcYT4D_XYsS8aUQ&libraries=places\",\r\n        document.querySelector(\"head\"),\r\n        \"google-maps\"\r\n      );\r\n    }\r\n\r\n    loaded.current = true;\r\n  }\r\n\r\n  const handleChange = event => {\r\n    setInputValue(event.target.value);\r\n    if (event.target.value.trim() !== \"\") {\r\n      updateRequired(false);\r\n    } else {\r\n      updateRequired(true);\r\n    }\r\n    console.info(\"The field is now required\", errorRequired);\r\n\r\n    if (event.target.value.trim() === \"\") {\r\n      if (props.currentLocationOptional === undefined) {\r\n        props.updateLocation(currentLocation);\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetch = React.useMemo(\r\n    () =>\r\n      throttle((request, callback) => {\r\n        autocompleteService.current.getPlacePredictions(request, callback);\r\n      }, 200),\r\n    []\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    let active = true;\r\n\r\n    if (!autocompleteService.current && window.google) {\r\n      autocompleteService.current = new window.google.maps.places.AutocompleteService();\r\n    }\r\n    if (!autocompleteService.current) {\r\n      return undefined;\r\n    }\r\n\r\n    if (inputValue === \"\") {\r\n      setOptions([]);\r\n      return undefined;\r\n    }\r\n\r\n    fetch({ input: inputValue }, results => {\r\n      if (active) {\r\n        setOptions(results || []);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      active = false;\r\n    };\r\n  }, [inputValue, fetch]);\r\n\r\n  const handleAutoChange = (event, value) => {\r\n    try {\r\n      axios\r\n        .get(\r\n          \"https://maps.googleapis.com/maps/api/geocode/json?place_id=\" +\r\n            value.place_id +\r\n            \"&key=AIzaSyDZBgT-uZYXzTSkTJbiDcYT4D_XYsS8aUQ\"\r\n        )\r\n        .then(res => {\r\n          props.updateLocation(\r\n            value.description,\r\n            res[\"data\"][\"results\"][0][\"geometry\"][\"location\"]\r\n          );\r\n        });\r\n    } catch {\r\n      props.updateLocation(currentLocation, currentLatLngValue);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Typography gutterBottom className={classes.labelText}>\r\n        {props.label || \"Tag Pothole's Location\"}\r\n      </Typography>\r\n      <Autocomplete\r\n        id=\"google-map-demo\"\r\n        getOptionLabel={option =>\r\n          typeof option === \"string\" ? option : option.description\r\n        }\r\n        filterOptions={x => x}\r\n        options={options}\r\n        autoComplete\r\n        includeInputInList\r\n        disableOpenOnFocus\r\n        fullWidth\r\n        onChange={handleAutoChange}\r\n        renderInput={params => (\r\n          <TextField\r\n            {...params}\r\n            //required\r\n            //errorRequired\r\n            label=\"Add a location\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            className={classes.textInput}\r\n            onChange={handleChange}\r\n          />\r\n        )}\r\n        renderOption={option => {\r\n          const matches =\r\n            option.structured_formatting.main_text_matched_substrings;\r\n          const parts = parse(\r\n            option.structured_formatting.main_text,\r\n            matches.map(match => [match.offset, match.offset + match.length])\r\n          );\r\n\r\n          return (\r\n            <Grid container alignItems=\"center\">\r\n              <Grid item>\r\n                <LocationOnIcon className={classes.icon} />\r\n              </Grid>\r\n              <Grid item xs>\r\n                {parts.map((part, index) => (\r\n                  <span\r\n                    key={index}\r\n                    style={{ fontWeight: part.highlight ? 700 : 400 }}\r\n                  >\r\n                    {part.text}\r\n                  </span>\r\n                ))}\r\n\r\n                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                  {option.structured_formatting.secondary_text}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          );\r\n        }}\r\n      />\r\n      {props.currentLocationOptional === undefined && (\r\n        <div>\r\n          {\" \"}\r\n          <h5\r\n            style={{ color: \"white\", textAlign: \"center\", fontWeight: \"bold\" }}\r\n          >\r\n            OR\r\n          </h5>\r\n          <div style={{ textAlign: \"center\" }}>\r\n            <i>(Will Use Current Location Instead)</i>\r\n          </div>\r\n          <div style={{ textAlign: \"center\" }}>\r\n            <Chip\r\n              style={{ marginBottom: \"25px\", marginTop: \"7px\" }}\r\n              icon={<AddLocationIcon />}\r\n              label={props.permissionLocationValue}\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n            />\r\n          </div>{\" \"}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","// this is a conditional based component:\r\n// 1]. when an image is validated successfully, it renders\r\n// a new report form.\r\n// 2]. when an invalid image is entered it takes the user to\r\n// a corresponding screen.\r\n// 3]. after pressing submit on the new report form, it takes\r\n// the user to the feedback screen.\r\nimport React from \"react\";\r\nimport LocationSearchInput from \"./../search_places\";\r\nimport StepSlider from \"./../step_slider\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DescriptionBox from \"./../description\";\r\nimport AlertDialog from \"./../alert_dialog\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { SUBMIT_USER_REPORT } from \"./../../utility/constants.js\";\r\n\r\nconst useStyles = theme => ({\r\n  root: {\r\n    maxWidth: \"100%\",\r\n    marginRight: \"10%\",\r\n    marginLeft: \"10%\",\r\n    marginTop: \"120px\",\r\n    marginBottom: \"30px\"\r\n  }\r\n});\r\n\r\nlet self;\r\n\r\nclass CreateReport extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      imageURL: props.reportData.split(\" : \")[0],\r\n      location: \"\",\r\n      severity: \"\",\r\n      description: \"\",\r\n      dialogOpenState: false,\r\n      cancelDialogOpenState: false,\r\n      locationLatLng: \"\",\r\n      makeBoxEmptyFunction: \"\",\r\n      showSubmittedFeedback: false,\r\n      permissionLocation: \"\",\r\n      permissionLocationLatLng: \"\",\r\n      userId: props.userId\r\n    };\r\n\r\n    self = this;\r\n\r\n    this.getLocation();\r\n  }\r\n\r\n  setLocation = (location, latLngLocation) => {\r\n    if (this.state.location !== location) {\r\n      self.setState({\r\n        location: location,\r\n        locationLatLng: latLngLocation\r\n      });\r\n    }\r\n  };\r\n\r\n  setPermissionBasedLocation = (location, latLngLocation) => {\r\n    if (this.state.location !== location) {\r\n      self.setState({\r\n        permissionLocation: location,\r\n        permissionLocationLatLng: latLngLocation\r\n      });\r\n    }\r\n  };\r\n\r\n  showPosition = position => {\r\n    axios\r\n      .get(\r\n        \"https://maps.googleapis.com/maps/api/geocode/json?latlng=\" +\r\n          position.coords.latitude +\r\n          \",\" +\r\n          position.coords.longitude +\r\n          \"&key=AIzaSyDZBgT-uZYXzTSkTJbiDcYT4D_XYsS8aUQ\"\r\n      )\r\n      .then(\r\n        result => {\r\n          this.setPermissionBasedLocation(\r\n            result[\"data\"][\"results\"][0][\"formatted_address\"],\r\n            result[\"data\"][\"results\"][0][\"geometry\"][\"location\"]\r\n          );\r\n        },\r\n        error => {\r\n          console.info(\"Cannot update current location\");\r\n        }\r\n      );\r\n  };\r\n\r\n  getLocation = () => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(this.showPosition);\r\n    } else {\r\n      console.info(\"Geolocation is not supported by this browser.\");\r\n    }\r\n  };\r\n\r\n  setSeverity = severity => {\r\n    self.setState({\r\n      severity: severity\r\n    });\r\n  };\r\n\r\n  setDescription = description => {\r\n    self.setState({\r\n      description: description\r\n    });\r\n  };\r\n\r\n  updateCloseDialogState = () => {\r\n    self.setState({\r\n      dialogOpenState: false\r\n    });\r\n  };\r\n\r\n  updateCancelDialogState = () => {\r\n    self.setState({\r\n      cancelDialogOpenState: false\r\n    });\r\n  };\r\n\r\n  submitForm = () => {\r\n    let postLocation, postLocationLatLng;\r\n    if (this.state.location === \"\" && this.state.permissionLocation === \"\") {\r\n      postLocation = \"\";\r\n    } else {\r\n      if (this.state.location !== \"\") {\r\n        postLocation = this.state.location;\r\n        postLocationLatLng = this.state.locationLatLng;\r\n      } else {\r\n        postLocation = this.state.permissionLocation;\r\n        postLocationLatLng = this.state.permissionLocationLatLng;\r\n      }\r\n    }\r\n    if (\r\n      this.state.description === \"\" ||\r\n      postLocation === \"\" ||\r\n      this.state.severity === \"\"\r\n    ) {\r\n      this.setState({\r\n        dialogOpenState: true\r\n      });\r\n    } else {\r\n      this.setState({\r\n        dialogOpenState: false\r\n      });\r\n      axios\r\n        .post(SUBMIT_USER_REPORT, {\r\n          data: {\r\n            description: this.state.description,\r\n            location: postLocation,\r\n            locationLatLng: postLocationLatLng,\r\n            imageURL: this.state.imageURL,\r\n            userId: this.state.userId,\r\n            severity: this.state.severity\r\n          }\r\n        })\r\n        .then(\r\n          res => {\r\n            this.setState({\r\n              showSubmittedFeedback: true\r\n            });\r\n          },\r\n          err => {\r\n            console.info(\"Problem with submitting your report\");\r\n          }\r\n        );\r\n    }\r\n  };\r\n\r\n  makeEmpty = makeBoxEmpty => {\r\n    self.setState({\r\n      makeBoxEmptyFunction: makeBoxEmpty\r\n    });\r\n  };\r\n\r\n  showCancelAlert = () => {\r\n    self.setState({\r\n      cancelDialogOpenState: true\r\n    });\r\n  };\r\n\r\n  navigateToNewReport = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        {/* refer top level comments (section 1)*/}\r\n        {!this.state.showSubmittedFeedback &&\r\n          this.props.reportData.split(\" : \")[1] === \"Your image is valid!\" && (\r\n            <div>\r\n              <Card className={classes.root}>\r\n                <CardMedia\r\n                  component=\"img\"\r\n                  alt=\"Detected Pothole Image\"\r\n                  height=\"400\"\r\n                  image={this.props.reportData.split(\" : \")[0]}\r\n                  title=\"Validated Pothole Image\"\r\n                />\r\n                <CardContent>\r\n                  <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                    Create Report\r\n                  </Typography>\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    color=\"textSecondary\"\r\n                    component=\"p\"\r\n                  >\r\n                    We were able to identify one or more potholes in the image\r\n                    you provided. Please fill the rest of the details to file an\r\n                    official complaint. Once you create a report and it gets\r\n                    approved you cannot cancel the request made until resolved\r\n                    by the the concerned authority. Don't forget to add\r\n                    supporting comments to your report.\r\n                  </Typography>\r\n                  <LocationSearchInput\r\n                    updateLocation={this.setLocation}\r\n                    permissionLocationValue={this.state.permissionLocation}\r\n                  />\r\n                  <StepSlider updateSeverity={this.setSeverity} />\r\n                  <DescriptionBox\r\n                    passMakeEmpty={this.makeEmpty}\r\n                    updateDescription={this.setDescription}\r\n                  />\r\n                </CardContent>\r\n                <CardActions>\r\n                  <Button\r\n                    size=\"small\"\r\n                    color=\"primary\"\r\n                    onClick={() => this.submitForm()}\r\n                  >\r\n                    Submit\r\n                  </Button>\r\n                  <Button\r\n                    size=\"small\"\r\n                    color=\"secondary\"\r\n                    onClick={() => this.showCancelAlert()}\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                </CardActions>\r\n              </Card>\r\n              <AlertDialog\r\n                dialogOpenState={this.state.cancelDialogOpenState}\r\n                updateCloseDialogState={this.updateCancelDialogState}\r\n                title={\"Cancel Reporting!\"}\r\n                content={\"Are you sure you want to cancel?\"}\r\n                buttonText={\"Yes, Cancel Report\"}\r\n                linkTo={\"/report\"}\r\n                color={\"secondary\"}\r\n              />\r\n              <AlertDialog\r\n                dialogOpenState={this.state.dialogOpenState}\r\n                updateCloseDialogState={this.updateCloseDialogState}\r\n                title={\"Required Fields Validation\"}\r\n                content={\"One or more required fields are empty!\"}\r\n                buttonText={\"OK\"}\r\n                color={\"primary\"}\r\n              />\r\n            </div>\r\n          )}\r\n        {/* refer top level comments (section 2)*/}\r\n        {!(\r\n          this.props.reportData.split(\" : \")[1] === \"Your image is valid!\"\r\n        ) && (\r\n          <div>\r\n            <Card className={classes.root}>\r\n              <CardMedia\r\n                component=\"img\"\r\n                alt=\"Not Detected Pothole Image\"\r\n                height=\"400\"\r\n                image={this.props.reportData.split(\" : \")[0]}\r\n                title=\"Not Validated Pothole Image\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  Seems Like an Invalid Image\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                  There does not seem to be a pothole in this image. Please\r\n                  retry with a different image. If you feel you have uploaded a\r\n                  correct image feel free to email us at{\" \"}\r\n                  <a href=\"mailto:support.spothole@gmail.com\">\r\n                    support.spothole@gmail.com\r\n                  </a>\r\n                </Typography>\r\n              </CardContent>\r\n              <CardActions style={{ marginTop: \"10px\" }}>\r\n                <Button\r\n                  size=\"small\"\r\n                  color=\"primary\"\r\n                  onClick={() => this.navigateToNewReport()}\r\n                >\r\n                  Retry\r\n                </Button>\r\n                <Link to=\"/dashboard\">\r\n                  <Button size=\"small\" color=\"primary\">\r\n                    Go to My Complaints\r\n                  </Button>\r\n                </Link>\r\n              </CardActions>\r\n            </Card>\r\n          </div>\r\n        )}\r\n        {/* refer top level comments (section 3)*/}\r\n        {this.state.showSubmittedFeedback &&\r\n          this.props.reportData.split(\" : \")[1] === \"Your image is valid!\" && (\r\n            <div>\r\n              <Card className={classes.root}>\r\n                <CardMedia\r\n                  component=\"img\"\r\n                  alt=\"Detected Pothole Image\"\r\n                  height=\"400\"\r\n                  image={this.props.reportData.split(\" : \")[0]}\r\n                  title=\"Validated Pothole Image\"\r\n                />\r\n                <CardContent>\r\n                  <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                    Complaint Registered!\r\n                  </Typography>\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    color=\"textSecondary\"\r\n                    component=\"p\"\r\n                  >\r\n                    Thank you for submitting the report. A concerned authority\r\n                    will get back to you. You can find the new report and\r\n                    monitor it's status in the{\" \"}\r\n                    <Link to=\"/dashboard\">My Complaints</Link> section.\r\n                  </Typography>\r\n                  <br />\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    color=\"textSecondary\"\r\n                    component=\"p\"\r\n                  >\r\n                    Keep a track of your report through the comments section and\r\n                    feel free to exchange more thoughts with the concerned\r\n                    authority too. You can even email us at{\" \"}\r\n                    <a href=\"mailto:support.spothole@gmail.com\">\r\n                      support.spothole@gmail.com\r\n                    </a>{\" \"}\r\n                    for more questions.\r\n                  </Typography>\r\n                </CardContent>\r\n                <CardActions style={{ marginTop: \"10px\" }}>\r\n                  <Link to=\"/dashboard\">\r\n                    <Button size=\"small\" color=\"primary\">\r\n                      Go to My Complaints\r\n                    </Button>\r\n                  </Link>\r\n                </CardActions>\r\n              </Card>\r\n            </div>\r\n          )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(CreateReport);\r\n","// this component presents the user with an option to upload images via camera or\r\n// a file system. uses the camera upload separator for the same. it also acts as\r\n// a middleware between the upload files component and the camera component.\r\n// it uses the state variables to handle the operation of exchange when uploading\r\n// images through camera or just through filepond too.\r\nimport React from \"react\";\r\nimport CameraComponent from \"./../components/camera\";\r\nimport UploadFiles from \"./../components/uploads\";\r\nimport Request from \"./../components/service\";\r\nimport CreateReport from \"./../components/new_report\";\r\nimport CameraUploadSeparator from \"./../components/camera_upload_separator\";\r\nimport LinearIndeterminate from \"./../components/linear_progress\";\r\n\r\nlet self;\r\n\r\nclass KickStart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      filePondRef: null,\r\n      validationMessage: null,\r\n      validateComponent: null,\r\n      enableCameraComponent: null,\r\n      enableUploadFilesComponent: null,\r\n      cameraEnabled: false,\r\n      uploadEnabled: false,\r\n      buttons: this.getButtons(),\r\n      fileDataCopy: null,\r\n      userId: props.userId\r\n    };\r\n    self = this;\r\n  }\r\n\r\n  uploadClickedFile = fileData => {\r\n    self.removeCameraFromView();\r\n    self.setState({\r\n      enableUploadFilesComponent: (\r\n        <UploadFiles\r\n          label={\"Preview uploading of your clicked image!\"}\r\n          display=\"block\"\r\n          updateFilePondRef={this.updateFilePondRef}\r\n          validation={this.validation}\r\n        />\r\n      ),\r\n      fileDataCopy: fileData\r\n    });\r\n  };\r\n\r\n  updateFilePondRef = ref => {\r\n    self.setState({\r\n      filePondRef: ref\r\n    });\r\n    if (self.state.fileDataCopy !== null) {\r\n      self.state.filePondRef.addFile(self.state.fileDataCopy);\r\n    }\r\n  };\r\n\r\n  validation = imageURL => {\r\n    self.setState({\r\n      buttons: null,\r\n      validationMessage: <LinearIndeterminate />,\r\n      validateComponent: (\r\n        <Request\r\n          imageURL={imageURL}\r\n          validationCompleted={this.validationCompleted}\r\n        />\r\n      )\r\n    });\r\n  };\r\n\r\n  validationCompleted = response => {\r\n    self.setState({\r\n      validationMessage: (\r\n        <CreateReport userId={this.state.userId} reportData={response.data} />\r\n      ),\r\n      validateComponent: \"\",\r\n      enableUploadFilesComponent: null\r\n    });\r\n  };\r\n\r\n  toggleCameraComponent = () => {\r\n    if (!self.state.cameraEnabled) {\r\n      self.setState({\r\n        enableCameraComponent: (\r\n          <CameraComponent\r\n            cameraClosed={this.onCloseCamera}\r\n            onCapture={this.uploadClickedFile}\r\n          />\r\n        ),\r\n        cameraEnabled: true,\r\n        uploadEnabled: true,\r\n        buttons: null\r\n      });\r\n    } else {\r\n      self.setState({\r\n        enableCameraComponent: null,\r\n        enableUploadFilesComponent: null,\r\n        cameraEnabled: false,\r\n        uploadEnabled: false,\r\n        buttons: this.getButtons()\r\n      });\r\n    }\r\n  };\r\n\r\n  toggleUploadComponent = () => {\r\n    if (!this.state.uploadEnabled) {\r\n      self.setState({\r\n        enableUploadFilesComponent: (\r\n          <UploadFiles\r\n            label={\"Drag and Drop or Click to Upload a Single Image File!\"}\r\n            display={\"block\"}\r\n            withCamera={false}\r\n            updateFilePondRef={this.updateFilePondRef}\r\n            validation={this.validation}\r\n          />\r\n        ),\r\n        uploadEnabled: true,\r\n        buttons: null\r\n      });\r\n    }\r\n  };\r\n\r\n  onCloseCamera = () => {\r\n    self.toggleCameraComponent();\r\n  };\r\n\r\n  removeCameraFromView = () => {\r\n    self.setState({\r\n      enableCameraComponent: null,\r\n      cameraEnabled: false\r\n    });\r\n  };\r\n\r\n  getButtons() {\r\n    return (\r\n      <CameraUploadSeparator\r\n        toggleCameraComponent={this.toggleCameraComponent}\r\n        toggleUploadComponent={this.toggleUploadComponent}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.buttons}\r\n        {this.state.enableCameraComponent}\r\n        {this.state.enableUploadFilesComponent}\r\n        {this.state.validateComponent}\r\n        {this.state.validationMessage}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default KickStart;\r\n","// used to specify the severity of a new/reported pothole by the user\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst styles = {\r\n  root: {\r\n    width: \"100%\"\r\n  },\r\n  slider: {\r\n    padding: \"22px 0px\"\r\n  }\r\n};\r\n\r\nclass StepSlider extends React.Component {\r\n  state = {\r\n    value: 5\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    props.updateSeverity(this.state.value);\r\n  }\r\n\r\n  handleChange = (event, value) => {\r\n    this.setState({ value });\r\n    this.props.updateSeverity(value);\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Typography gutterBottom>\r\n          Severity Rate <i>(Choose a value between 0-10)</i>\r\n        </Typography>\r\n        <br />\r\n        <br />\r\n        <Slider\r\n          classes={{ container: classes.slider }}\r\n          value={value}\r\n          min={1}\r\n          max={10}\r\n          step={1}\r\n          onChange={this.handleChange}\r\n          valueLabelDisplay=\"on\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nStepSlider.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(StepSlider);\r\n","// this component is the text area field used in the\r\n// comments sections and the new report section.\r\n// it requires a function as prop to get the\r\n// updated value of the description box.\r\n// also has built-in error validation\r\nimport React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nclass DescriptionBox extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      errorRequired: false,\r\n      content: \"\"\r\n    };\r\n    this.textFieldRef = React.createRef();\r\n    props.passMakeEmpty(this.makeEmpty);\r\n  }\r\n\r\n  makeEmpty = () => {\r\n    this.setState({\r\n      content: \"\"\r\n    });\r\n    this.checkRequired(this.textFieldRef.current, \"required\");\r\n  };\r\n\r\n  checkRequired = (target, errorRequired) => {\r\n    let descriptionValue = target.value.trim();\r\n    if (descriptionValue !== \"\") {\r\n      this.setState({\r\n        errorRequired: false,\r\n        content: target.value\r\n      });\r\n    } else {\r\n      this.setState({\r\n        errorRequired: errorRequired === undefined ? true : false,\r\n        content: target.value\r\n      });\r\n    }\r\n    this.props.updateDescription(descriptionValue);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Typography\r\n          style={{ marginBottom: \"10px\", marginTop: \"5px\" }}\r\n          gutterBottom\r\n        >\r\n          Add Comment\r\n        </Typography>\r\n        <TextField\r\n          inputRef={this.textFieldRef}\r\n          error={this.state.errorRequired}\r\n          onChange={event => this.checkRequired(event.target)}\r\n          required\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          placeholder=\"Supporting comments on the report\"\r\n          multiline\r\n          rows={4}\r\n          rowsMax={50}\r\n          label={\"Additional Comments (Required)\"}\r\n          value={this.state.content}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DescriptionBox;\r\n","// alert dialog accepts both single button (ok type) and\r\n// dual button (ok and cancel) type options.\r\n// is used in create new report for submission and cancelling.\r\nimport React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nexport default class AlertDialog extends React.Component {\r\n  // pass linkTo if you wish to have a\r\n  // feedback route as well after submission\r\n  handleClose = () => {\r\n    if (this.props.linkTo !== undefined) {\r\n      window.location.href = \"/spothole/#\" + this.props.linkTo;\r\n      window.location.reload();\r\n    }\r\n    this.props.updateCloseDialogState();\r\n  };\r\n\r\n  justClose = () => {\r\n    this.props.updateCloseDialogState();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          open={this.props.dialogOpenState}\r\n          onClose={() => this.justClose()}\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.props.title}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              {this.props.content}\r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button\r\n              onClick={() => this.handleClose()}\r\n              color={this.props.color}\r\n              autoFocus\r\n            >\r\n              {this.props.buttonText}\r\n            </Button>\r\n            {this.props.linkTo !== undefined && (\r\n              <Button\r\n                onClick={() => this.justClose()}\r\n                color={\"primary\"}\r\n                autoFocus\r\n              >\r\n                No\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","// displays an option to choose between upload from files or use the camera component\r\n// uses a customised styling layout for the same\r\nimport React from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport AddAPhotoIcon from \"@material-ui/icons/AddAPhoto\";\r\nimport AddToPhotosIcon from \"@material-ui/icons/AddToPhotos\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport GavelIcon from \"@material-ui/icons/GavelOutlined\";\r\n\r\nconst useStyles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    marginTop: \"60px\"\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: \"center\",\r\n    color: theme.palette.text.secondary,\r\n    cursor: \"pointer\",\r\n    height: \"300px\",\r\n    marginRight: \"10px\",\r\n    marginLeft: \"10px\",\r\n    borderRadius: \"10px\",\r\n    border: \"1px solid #212121\"\r\n  },\r\n  text: {\r\n    fontSize: \"24px\",\r\n    position: \"relative\",\r\n    top: \"50%\",\r\n    transform: \"translateY(-50%)\"\r\n  }\r\n});\r\n\r\nclass CameraUploadSeparator extends React.Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className={classes.root}>\r\n        <Grid container spacing={2} justify=\"center\">\r\n          <Grid item xs={10} sm={10}>\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <Typography\r\n              gutterBottom\r\n              style={{ textAlign: \"center\", fontSize: \"2.7em\" }}\r\n            >\r\n              Spot and Report{\" \"}\r\n              <GavelIcon style={{ fontSize: 50 }} color=\"secondary\" /> Potholes\r\n              Now\r\n            </Typography>\r\n            <div>\r\n              <center>\r\n                <Typography\r\n                  variant=\"body2\"\r\n                  color=\"textSecondary\"\r\n                  component=\"p\"\r\n                  style={{\r\n                    textAlign: \"center\",\r\n                    fontSize: \"1.5em\",\r\n                    maxWidth: \"400px\"\r\n                  }}\r\n                >\r\n                  Choose between either uploading a photo from the file system\r\n                  or using the camera to click a photo.\r\n                </Typography>\r\n              </center>\r\n            </div>\r\n            <br />\r\n            <br />\r\n            <br />\r\n          </Grid>\r\n          <Grid item xs={6} sm={5}>\r\n            <Paper\r\n              variant=\"outlined\"\r\n              onClick={() => this.props.toggleCameraComponent()}\r\n              className={classes.paper}\r\n            >\r\n              <div className={classes.text}>\r\n                <AddAPhotoIcon style={{ fontSize: 120 }} /> <br /> Upload From\r\n                Camera\r\n              </div>\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs={6} sm={5}>\r\n            <Paper\r\n              variant=\"outlined\"\r\n              onClick={() => this.props.toggleUploadComponent()}\r\n              className={classes.paper}\r\n            >\r\n              <div className={classes.text}>\r\n                <AddToPhotosIcon style={{ fontSize: 120 }} /> <br /> Upload From\r\n                File Manager\r\n              </div>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(CameraUploadSeparator);\r\n","// acts as a loading indicator while validating an image uploaded\r\n// or captured from the new report section.\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: \"60%\",\r\n    \"& > * + *\": {\r\n      marginTop: theme.spacing(2)\r\n    },\r\n    marginTop: \"180px\"\r\n  }\r\n}));\r\n\r\nexport default function LinearIndeterminate() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container spacing={2} justify=\"center\">\r\n      <div className={classes.root}>\r\n        <LinearProgress />\r\n      </div>\r\n    </Grid>\r\n  );\r\n}\r\n","// this component is used to display the progress status on a particular report.\r\n// it has four options: submitted, approved, in progress and completed.\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport Create from \"@material-ui/icons/Create\";\r\nimport DoneAll from \"@material-ui/icons/DoneAll\";\r\nimport TransferWithinAStationIcon from \"@material-ui/icons/TransferWithinAStation\";\r\nimport EmojiEmotionsIcon from \"@material-ui/icons/EmojiEmotions\";\r\nimport StepConnector from \"@material-ui/core/StepConnector\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nlet currentSteps;\r\n\r\nconst ColorlibConnector = withStyles({\r\n  alternativeLabel: {\r\n    top: 22\r\n  },\r\n  active: {\r\n    \"& $line\": {\r\n      backgroundImage:\r\n        \"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)\"\r\n    }\r\n  },\r\n  completed: {\r\n    \"& $line\": {\r\n      backgroundImage:\r\n        \"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)\"\r\n    }\r\n  },\r\n  line: {\r\n    height: 3,\r\n    border: 0,\r\n    backgroundColor: \"#eaeaf0\",\r\n    borderRadius: 1\r\n  }\r\n})(StepConnector);\r\n\r\nconst useColorlibStepIconStyles = makeStyles({\r\n  root: {\r\n    backgroundColor: \"#f1f8e9\",\r\n    zIndex: 1,\r\n    color: \"#333\",\r\n    width: 50,\r\n    height: 50,\r\n    display: \"flex\",\r\n    borderRadius: \"50%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n  active: {\r\n    color: \"#fafafa\",\r\n    backgroundImage:\r\n      \"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)\",\r\n    boxShadow: \"0 4px 10px 0 rgba(0,0,0,.25)\"\r\n  },\r\n  completed: {\r\n    color: \"#fafafa\",\r\n    backgroundImage:\r\n      \"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)\"\r\n  }\r\n});\r\n\r\nfunction ColorlibStepIcon(props) {\r\n  const classes = useColorlibStepIconStyles();\r\n  const { active, completed } = props;\r\n\r\n  let icons = {};\r\n  if (currentSteps.length === 2) {\r\n    icons = {\r\n      1: <Create />,\r\n      2: <CloseIcon />\r\n    };\r\n  } else {\r\n    icons = {\r\n      1: <Create />,\r\n      2: <DoneAll />,\r\n      3: <TransferWithinAStationIcon />,\r\n      4: <EmojiEmotionsIcon />\r\n    };\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={clsx(classes.root, {\r\n        [classes.active]: active,\r\n        [classes.completed]: completed\r\n      })}\r\n    >\r\n      {icons[String(props.icon)]}\r\n    </div>\r\n  );\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n  active: PropTypes.bool,\r\n  completed: PropTypes.bool,\r\n  icon: PropTypes.node\r\n};\r\n\r\nfunction getSteps(stepNumber) {\r\n  if (stepNumber === 4) {\r\n    return [\"Submitted\", \"Cancelled\"];\r\n  }\r\n  return [\"Submitted\", \"Approved\", \"Working\", \"Completed\"];\r\n}\r\n\r\nexport default function CustomizedSteppers(props) {\r\n  const [activeStep, setActiveStep] = React.useState(props.stepNumber);\r\n  const steps = getSteps(props.stepNumber);\r\n  currentSteps = steps;\r\n  return (\r\n    <div style={{ textAlign: \"left\", minWidth: \"300px\" }}>\r\n      <Stepper\r\n        alternativeLabel\r\n        activeStep={props.stepNumber}\r\n        connector={<ColorlibConnector />}\r\n        style={{ float: \"left\" }}\r\n      >\r\n        {steps.map(label => (\r\n          <Step key={label}>\r\n            <StepLabel StepIconComponent={ColorlibStepIcon}>{label}</StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n    </div>\r\n  );\r\n}\r\n","// used in the profile screen. displays the score for the\r\n// user with an associated image.\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport LoyaltyIcon from \"@material-ui/icons/Loyalty\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nconst useStyles = makeStyles(({ breakpoints, spacing }) => ({\r\n  card: {\r\n    width: \"100%\",\r\n    maxWidth: 500,\r\n    borderRadius: spacing(2), // 16px\r\n    transition: \"0.3s\",\r\n    boxShadow: \"0px 14px 80px rgba(34, 35, 58, 0.2)\",\r\n    position: \"relative\",\r\n    overflow: \"initial\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    paddingLeft: 8,\r\n    paddingRight: 8,\r\n    background: \"linear-gradient(to right bottom, #1769aa, #33eaff)\",\r\n    [breakpoints.up(\"sm\")]: {\r\n      textAlign: \"left\",\r\n      flexDirection: \"row-reverse\"\r\n    }\r\n  },\r\n  media: {\r\n    flexShrink: 0,\r\n    width: \"50%\",\r\n    paddingTop: \"34%\",\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n    [breakpoints.up(\"sm\")]: {\r\n      marginRight: \"initial\"\r\n    }\r\n  },\r\n  media2: {\r\n    flexShrink: 0,\r\n    width: \"30%\",\r\n    paddingTop: \"35%\",\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n    [breakpoints.up(\"sm\")]: {\r\n      marginRight: \"initial\"\r\n    }\r\n  },\r\n  overline: {\r\n    lineHeight: 2,\r\n    color: \"#ffffff\",\r\n    fontWeight: \"bold\",\r\n    fontSize: \"0.625rem\",\r\n    opacity: 0.7\r\n  },\r\n  heading: {\r\n    fontWeight: \"600\",\r\n    color: \"#ffffff\",\r\n    letterSpacing: 0.3\r\n  },\r\n  button: {\r\n    fontWeight: \"bold !important\",\r\n    backgroundColor: \"rgba(255, 255, 255, 0.15)\",\r\n    borderRadius: 100,\r\n    paddingLeft: 32,\r\n    paddingRight: 32,\r\n    color: \"#ffffff\",\r\n    textTransform: \"none\",\r\n    width: \"100%\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(255, 255, 255, 0.32)\"\r\n    },\r\n    [breakpoints.up(\"sm\")]: {\r\n      width: \"auto\"\r\n    }\r\n  }\r\n}));\r\n\r\nconst RewardCard = props => {\r\n  const styles = useStyles();\r\n  return (\r\n    <Card className={styles.card}>\r\n      {props.score > 0 && (\r\n        <CardMedia\r\n          className={styles.media}\r\n          image={\r\n            \"https://webstockreview.net/images/good-clipart-well-done-2.png\"\r\n          }\r\n        />\r\n      )}\r\n      {props.score === 0 && (\r\n        <CardMedia\r\n          className={styles.media2}\r\n          image={\r\n            \"https://ignitewoo.com/wp-content/uploads/2012/08/woocommerce-loyalty-rewards.png\"\r\n          }\r\n        />\r\n      )}\r\n      <CardContent className={styles.content}>\r\n        <Typography className={styles.overline} variant={\"overline\"}>\r\n          Every Detection Counts!\r\n        </Typography>\r\n        <Typography className={styles.heading} variant={\"h6\"} gutterBottom>\r\n          Your Contribution Score\r\n        </Typography>\r\n        <Chip\r\n          style={{\r\n            fontWeight: \"bold\",\r\n            backgroundImage:\r\n              \"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)\"\r\n          }}\r\n          color=\"primary\"\r\n          icon={<LoyaltyIcon />}\r\n          className={styles.button}\r\n          label={props.score + \" / 100\"}\r\n        />\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default RewardCard;\r\n","// this is the profile screen. it displys the main email photo URL for the\r\n// signed in user and also shows the overall contribution score for the user\r\n// in terms of number of submissions, approvals and completions.\r\n// has separate indicators for the same.\r\nimport React from \"react\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport RewardCard from \"./../../components/rewards_card\";\r\nimport axios from \"axios\";\r\nimport { GET_USER_REPORTS } from \"./../../utility/constants.js\";\r\n\r\nclass Profile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      submittedCount: 0,\r\n      approvedCount: 0,\r\n      completedCount: 0,\r\n      score: 0\r\n    };\r\n    axios\r\n      .post(GET_USER_REPORTS, {\r\n        data: {\r\n          userId: this.props.userId\r\n        }\r\n      })\r\n      .then(res => {\r\n        let completedCount = res.data.filter(report => {\r\n          return report.status === \"completed\";\r\n        }).length;\r\n        let approvedCount =\r\n          res.data.filter(report => {\r\n            return report.status === \"approved\";\r\n          }).length + completedCount;\r\n        let submittedCount =\r\n          res.data.filter(report => {\r\n            return report.status === \"submitted\";\r\n          }).length +\r\n          approvedCount +\r\n          completedCount;\r\n        let score = Math.ceil(\r\n          (parseFloat(approvedCount / submittedCount) * 0.7 +\r\n            parseFloat(completedCount / approvedCount) * 0.3) *\r\n            100\r\n        );\r\n        this.setState({\r\n          submittedCount: submittedCount,\r\n          approvedCount: approvedCount,\r\n          completedCount: completedCount,\r\n          score: score || 0\r\n        });\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <center>\r\n          <Card\r\n            style={{\r\n              marginTop: \"125px\",\r\n              borderRadius: 12,\r\n              minWidth: 256,\r\n              maxWidth: 500,\r\n              textAlign: \"center\",\r\n              marginLeft: \"50px\",\r\n              marginRight: \"50px\"\r\n            }}\r\n          >\r\n            <CardContent>\r\n              <Avatar\r\n                style={{\r\n                  width: 120,\r\n                  height: 120,\r\n                  margin: \"auto\",\r\n                  marginTop: \"15px\",\r\n                  marginBottom: \"15px\"\r\n                }}\r\n                src={this.props.photoURL}\r\n              />\r\n              <h3\r\n                style={{\r\n                  fontSize: 18,\r\n                  fontWeight: \"bold\",\r\n                  letterSpacing: \"0.5px\",\r\n                  marginTop: 8,\r\n                  marginBottom: 0\r\n                }}\r\n              >\r\n                {this.props.name}\r\n              </h3>\r\n              <span\r\n                style={{\r\n                  fontSize: 14,\r\n                  color: \"#9e9e9e\",\r\n                  marginBottom: \"1em\"\r\n                }}\r\n              >\r\n                <a href={\"mailto:\" + this.props.email}>{this.props.email}</a>\r\n              </span>\r\n            </CardContent>\r\n            <Divider variant=\"middle\" />\r\n            <Box display={\"flex\"}>\r\n              <Box p={2} flex={\"auto\"}>\r\n                <p\r\n                  style={{\r\n                    fontSize: 12,\r\n                    color: \"#9e9e9e\",\r\n                    fontWeight: 500,\r\n                    fontFamily:\r\n                      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\r\n                    margin: 0\r\n                  }}\r\n                >\r\n                  Submitted\r\n                </p>\r\n                <p\r\n                  style={{\r\n                    fontSize: 20,\r\n                    fontWeight: \"bold\",\r\n                    marginBottom: 4,\r\n                    letterSpacing: \"1px\"\r\n                  }}\r\n                >\r\n                  {this.state.submittedCount}\r\n                </p>\r\n              </Box>\r\n              <Box p={2} flex={\"auto\"}>\r\n                <p\r\n                  style={{\r\n                    fontSize: 12,\r\n                    color: \"#9e9e9e\",\r\n                    fontWeight: 500,\r\n                    fontFamily:\r\n                      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\r\n                    margin: 0\r\n                  }}\r\n                >\r\n                  Approved\r\n                </p>\r\n                <p\r\n                  style={{\r\n                    fontSize: 20,\r\n                    fontWeight: \"bold\",\r\n                    marginBottom: 4,\r\n                    letterSpacing: \"1px\"\r\n                  }}\r\n                >\r\n                  {this.state.approvedCount}\r\n                </p>\r\n              </Box>\r\n              <Box p={2} flex={\"auto\"}>\r\n                <p\r\n                  style={{\r\n                    fontSize: 12,\r\n                    color: \"#9e9e9e\",\r\n                    fontWeight: 500,\r\n                    fontFamily:\r\n                      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\r\n                    margin: 0\r\n                  }}\r\n                >\r\n                  Completed\r\n                </p>\r\n                <p\r\n                  style={{\r\n                    fontSize: 20,\r\n                    fontWeight: \"bold\",\r\n                    marginBottom: 4,\r\n                    letterSpacing: \"1px\"\r\n                  }}\r\n                >\r\n                  {this.state.completedCount}\r\n                </p>\r\n              </Box>\r\n            </Box>\r\n            <div\r\n              style={{\r\n                marginLeft: \"20px\",\r\n                marginRight: \"20px\",\r\n                marginTop: \"20px\"\r\n              }}\r\n            >\r\n              <center>\r\n                <RewardCard score={this.state.score} />\r\n              </center>\r\n              <br />\r\n            </div>\r\n          </Card>\r\n        </center>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","// this component is used inside view report\r\n// section in the my complaints route. uses the mui treasury\r\n// chat message component to render the message array.\r\n// manipulates the comments data received from the backend\r\n// and creates the user/authority message array.\r\n// also contains the component to post a new message\r\nimport React from \"react\";\r\nimport DescriptionBox from \"./../description\";\r\nimport axios from \"axios\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ChatMessage from \"./../chat_message_box\";\r\nimport {\r\n  GET_REPORT_COMMENTS,\r\n  SUBMIT_REPORT_COMMENT\r\n} from \"./../../utility/constants.js\";\r\n\r\nlet self;\r\nclass Comments extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      commentText: \"\",\r\n      caseId: props.caseNumber,\r\n      userType: \"U\",\r\n      buttonDisabled: true,\r\n      commentComponentArray: [],\r\n      emptyDescriptionBox: false,\r\n      makeBoxEmptyFunction: \"\"\r\n    };\r\n    self = this;\r\n    this.getAllComments();\r\n  }\r\n\r\n  // for a new message, updates the state\r\n  // of the submit button (validation)\r\n  setDescription = description => {\r\n    this.setState({\r\n      commentText: description\r\n    });\r\n    if (description === \"\") {\r\n      this.setState({\r\n        buttonDisabled: true\r\n      });\r\n    } else {\r\n      this.setState({\r\n        buttonDisabled: false\r\n      });\r\n    }\r\n  };\r\n\r\n  // gets all the user comments for the\r\n  // particular report from the backend\r\n  getAllComments = () => {\r\n    axios\r\n      .post(GET_REPORT_COMMENTS, { data: { caseId: this.state.caseId } })\r\n      .then(function(response) {\r\n        self.manageCommentData(response.data);\r\n      })\r\n      .catch(function(error) {\r\n        console.info(\"Problem with getting your comments!\");\r\n      });\r\n  };\r\n\r\n  // formats the date to be seen on the chat message\r\n  formatDateTime = dateTimeToFormat => {\r\n    let dateTime = new Date(dateTimeToFormat);\r\n    let formattedMonth = dateTime.toLocaleString(\"en\", { month: \"long\" });\r\n    let formattedTime = dateTime.toLocaleTimeString([], {\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\"\r\n    });\r\n    return (\r\n      dateTime.getDate() +\r\n      \" \" +\r\n      formattedMonth +\r\n      \", \" +\r\n      dateTime.getFullYear() +\r\n      \" @ \" +\r\n      formattedTime +\r\n      \" → \\n\"\r\n    );\r\n  };\r\n\r\n  // manipulates the comments data received from the backend and\r\n  // creates the message array to be passed to the mui treasury component\r\n  manageCommentData = commentsData => {\r\n    if (commentsData.length > 0) {\r\n      let prevUserType = commentsData[0].userType;\r\n      let currentSequence = [];\r\n      let commentComponentArray = [];\r\n      let counter = 1;\r\n      commentsData.map(comment => {\r\n        if (comment.userType === prevUserType) {\r\n          currentSequence.push(\r\n            this.formatDateTime(comment.commentDateTime) + comment.commentText\r\n          );\r\n          prevUserType = comment.userType;\r\n        } else {\r\n          commentComponentArray.push(\r\n            <ChatMessage\r\n              messageArray={currentSequence}\r\n              side={self.getChatMessageSide(prevUserType)}\r\n            />\r\n          );\r\n          prevUserType = comment.userType;\r\n          currentSequence = [];\r\n          currentSequence.push(\r\n            this.formatDateTime(comment.commentDateTime) + comment.commentText\r\n          );\r\n        }\r\n\r\n        // push for last sequence\r\n        if (counter === commentsData.length) {\r\n          commentComponentArray.push(\r\n            <ChatMessage\r\n              messageArray={currentSequence}\r\n              side={self.getChatMessageSide(prevUserType)}\r\n            />\r\n          );\r\n        }\r\n        ++counter;\r\n\r\n        return comment;\r\n      });\r\n      self.setState({\r\n        commentComponentArray: commentComponentArray\r\n      });\r\n    }\r\n    return true;\r\n  };\r\n\r\n  // based on the user type in the chat message\r\n  // associates a message side to it\r\n  getChatMessageSide = userType => {\r\n    return userType === \"U\" ? \"right\" : \"left\";\r\n  };\r\n\r\n  // submits a new comment entered in the description box\r\n  // handles the submission to the backend and clears the description box too\r\n  handleSubmit = () => {\r\n    axios\r\n      .post(SUBMIT_REPORT_COMMENT, { data: this.state })\r\n      .then(res => {\r\n        self.setState({\r\n          emptyDescriptionBox: true\r\n        });\r\n        self.state.makeBoxEmptyFunction();\r\n        this.getAllComments();\r\n      })\r\n      .catch(function(error) {\r\n        console.info(\"Problem with submitting your comment!\");\r\n      });\r\n  };\r\n\r\n  // empties the description box by resetting the state variable\r\n  makeEmpty = makeBoxEmpty => {\r\n    self.setState({\r\n      makeBoxEmptyFunction: makeBoxEmpty\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <br />\r\n        {this.state.commentComponentArray.map(function(item, i) {\r\n          return <div key={i}>{item}</div>;\r\n        })}\r\n        <br />\r\n        <DescriptionBox\r\n          passMakeEmpty={this.makeEmpty}\r\n          emptyBox={this.state.emptyDescriptionBox}\r\n          updateDescription={self.setDescription}\r\n        />\r\n        <Button\r\n          onClick={() => this.handleSubmit()}\r\n          color=\"primary\"\r\n          disabled={this.state.buttonDisabled}\r\n          style={{ fontSize: \"15px\", fontWeight: \"bold\" }}\r\n        >\r\n          Submit\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Comments;\r\n","// used to specify the severity of a new/reported pothole\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\n\r\nconst styles = {\r\n  root: {\r\n    width: \"100%\"\r\n  },\r\n  slider: {\r\n    padding: \"22px 0px\"\r\n  }\r\n};\r\n\r\nclass SeverityIndicator extends React.Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Slider\r\n          classes={{ container: classes.slider }}\r\n          value={this.props.value}\r\n          min={1}\r\n          max={10}\r\n          step={1}\r\n          valueLabelDisplay=\"on\"\r\n          disabled\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSeverityIndicator.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(SeverityIndicator);\r\n","// this component is used in the detailed report\r\n// section. acts as a label to each major component\r\n// in the same.\r\nimport React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst HeaderTextCard = props => {\r\n  return (\r\n    <Typography\r\n      gutterBottom\r\n      style={{ marginBottom: props.marginBottom, color: props.color }}\r\n    >\r\n      <b>{props.text}</b>\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default HeaderTextCard;\r\n","// contains the chat message component\r\n// uses the mui treasury library for displaying the message array\r\nimport React from \"react\";\r\nimport ChatMsg from \"@mui-treasury/components/chatMsg/ChatMsg\";\r\nimport { AUTHORITY_CHAT_LOGO } from \"./../../utility/constants.js\";\r\n\r\nconst ChatMessage = props => (\r\n  <div style={{ color: \"#333\" }}>\r\n    <ChatMsg\r\n      avatar={AUTHORITY_CHAT_LOGO}\r\n      side={props.side}\r\n      messages={props.messageArray}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default ChatMessage;\r\n","// this component is used to display the detailed results of\r\n// a report. it appears after clicking view report in the\r\n// my approval section.\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CustomizedSteppers from \"./../stepper\";\r\nimport EventIcon from \"@material-ui/icons/Event\";\r\nimport PinDropIcon from \"@material-ui/icons/PinDrop\";\r\nimport SeverityIndicator from \"./../severity_indicator\";\r\nimport HeaderTextCard from \"./../header_text_card\";\r\nimport Comments from \"./../comments\";\r\nimport \"./css/modal_data_card.css\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 700\r\n  },\r\n  media: {\r\n    height: 140\r\n  },\r\n  mediaMap: {\r\n    height: 200\r\n  },\r\n  headerTextColor: {\r\n    color: \"white\"\r\n  }\r\n});\r\n\r\nexport default function DetailedDataCard(props) {\r\n  const classes = useStyles();\r\n  const mapImageURL =\r\n    \"https://maps.googleapis.com/maps/api/staticmap?size=512x512&format=png&style=feature:road.highway%7Celement:geometry%7Cvisibility:simplified%7Ccolor:0xc280e9&style=feature:transit.line%7Cvisibility:simplified%7Ccolor:0xbababa&style=feature:road.highway%7Celement:labels.text.stroke%7Cvisibility:on%7Ccolor:0xb06eba&style=feature:road.highway%7Celement:labels.text.fill%7Cvisibility:on%7Ccolor:0xffffff&visible=\" +\r\n    props.data.latitude +\r\n    \",\" +\r\n    props.data.longitude +\r\n    \"&markers=color:red%7Clabel:A%7C\" +\r\n    props.data.latitude +\r\n    \",\" +\r\n    props.data.longitude +\r\n    \"&key=AIzaSyDZBgT-uZYXzTSkTJbiDcYT4D_XYsS8aUQ&zoom=15\";\r\n  return (\r\n    <Card\r\n      style={{ border: \"2px solid rgba(255,255,255,0.1)\" }}\r\n      className={classes.root}\r\n    >\r\n      <CardMedia className={classes.media} image={props.data.imageURL} />\r\n      <CardContent>\r\n        <Typography gutterBottom variant=\"h5\" component=\"h2\"></Typography>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {/* for the date time component*/}\r\n          <Typography gutterBottom>\r\n            <EventIcon />\r\n            &nbsp; &nbsp; {props.data.dateTime}\r\n          </Typography>\r\n\r\n          <br />\r\n          {/* for the address component*/}\r\n          <Typography gutterBottom>\r\n            <PinDropIcon />\r\n            &nbsp; &nbsp; {props.data.fullLocation}\r\n          </Typography>\r\n\r\n          <br />\r\n          {/* for the severity component*/}\r\n          <HeaderTextCard\r\n            text=\"Severity Rate\"\r\n            marginBottom=\"40px\"\r\n            color={classes.headerTextColor.color}\r\n          />\r\n          <SeverityIndicator value={props.data.severity} />\r\n\r\n          <br />\r\n          {/* for the stepper indicator component*/}\r\n          <HeaderTextCard\r\n            text=\"Status\"\r\n            marginBottom=\"15px\"\r\n            color={classes.headerTextColor.color}\r\n          />\r\n          <CustomizedSteppers stepNumber={props.data.stepNumber} />\r\n\r\n          {/* for the complaint description component*/}\r\n          <p style={{ marginTop: \"120px\", textAlign: \"justify\" }}>\r\n            <hr style={{ backgroundColor: \"rgba(255, 255, 255, 0.1)\" }} />\r\n            <HeaderTextCard\r\n              text=\"Complaint Description\"\r\n              marginBottom=\"15px\"\r\n              color={classes.headerTextColor.color}\r\n            />\r\n            {props.data.fullDescription}\r\n          </p>\r\n          <br />\r\n          <CardMedia className={classes.mediaMap} image={mapImageURL} />\r\n          <br />\r\n          <hr style={{ backgroundColor: \"rgba(255, 255, 255, 0.1)\" }} />\r\n\r\n          {/* for the comments section */}\r\n          <HeaderTextCard\r\n            text=\"Comments\"\r\n            marginBottom=\"15px\"\r\n            color={classes.headerTextColor.color}\r\n          />\r\n          <Comments caseNumber={props.data.caseNumber} />\r\n        </Typography>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","// this component is the modal which appears on clicking\r\n// view report in the my approval screen. it comprises\r\n// of the card for showing all the details of the report\r\nimport React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport DetailedDataCard from \"./../modal_data_card\";\r\n\r\nexport default function DetailedDataModal(props) {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState(\"paper\");\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"lg\"));\r\n\r\n  const handleClickOpen = scrollType => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        className={props.buttonContentStyles}\r\n        onClick={handleClickOpen(\"paper\")}\r\n      >\r\n        View report\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        scroll={scroll}\r\n        aria-labelledby=\"scroll-dialog-title\"\r\n        aria-describedby=\"scroll-dialog-description\"\r\n        fullScreen={fullScreen}\r\n      >\r\n        <DialogTitle id=\"scroll-dialog-title\">\r\n          Report # {props.caseNumber}\r\n        </DialogTitle>\r\n        <DialogContent dividers={scroll === \"paper\"}>\r\n          <DetailedDataCard data={props} />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","// this component is the high level view of a particular\r\n// report. it is used in the my approval screen and it uses\r\n// a card variant from the mui treasury library.\r\nimport React from \"react\";\r\nimport cx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport TextInfoContent from \"@mui-treasury/components/content/textInfo\";\r\nimport { useOverShadowStyles } from \"@mui-treasury/styles/shadow/over\";\r\nimport CustomizedSteppers from \"./../stepper\";\r\nimport DetailedDataModal from \"./../detailed_data_modal\";\r\n\r\nconst useStyles = makeStyles(({ breakpoints, spacing }) => ({\r\n  root: {\r\n    margin: \"auto\",\r\n    borderRadius: spacing(2), // 16px\r\n    transition: \"0.3s\",\r\n    boxShadow: \"0px 14px 80px rgba(34, 35, 58, 0.2)\",\r\n    position: \"relative\",\r\n    maxWidth: 500,\r\n    marginLeft: \"auto\",\r\n    overflow: \"initial\",\r\n    background: \"#333\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    paddingBottom: spacing(2),\r\n    [breakpoints.up(\"md\")]: {\r\n      flexDirection: \"row\",\r\n      paddingTop: spacing(2)\r\n    }\r\n  },\r\n  media: {\r\n    width: \"88%\",\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n    marginTop: spacing(-3),\r\n    height: 0,\r\n    paddingBottom: \"48%\",\r\n    borderRadius: spacing(2),\r\n    backgroundColor: \"#fff\",\r\n    position: \"relative\",\r\n    [breakpoints.up(\"md\")]: {\r\n      width: \"100%\",\r\n      marginLeft: spacing(-3),\r\n      marginTop: 0,\r\n      transform: \"translateX(-8px)\"\r\n    },\r\n    \"&:after\": {\r\n      content: '\" \"',\r\n      position: \"absolute\",\r\n      top: 0,\r\n      left: 0,\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      //backgroundImage: 'linear-gradient(147deg, #fe8a39 0%, #fd3838 74%)',\r\n      borderRadius: spacing(2), // 16\r\n      opacity: 0.5\r\n    }\r\n  },\r\n  content: {\r\n    padding: 24\r\n  },\r\n  cta: {\r\n    marginTop: 24,\r\n    textTransform: \"initial\"\r\n  }\r\n}));\r\n\r\nconst contentStylesX = makeStyles(({ spacing }) => {\r\n  const family =\r\n    \"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif\";\r\n  return {\r\n    overline: {\r\n      textTransform: \"uppercase\",\r\n      letterSpacing: \"1px\",\r\n      fontSize: 12,\r\n      marginBottom: \"0.875em\",\r\n      display: \"inline-block\"\r\n    },\r\n    heading: {\r\n      fontSize: 20,\r\n      fontWeight: \"bold\",\r\n      marginBottom: \"0.35em\",\r\n      fontFamily: family\r\n    },\r\n    body: {\r\n      marginBottom: spacing(4),\r\n      fontSize: \"0.8rem\",\r\n      letterSpacing: \"0.00938em\",\r\n      fontFamily: family,\r\n      color: \"#eeeeee\"\r\n    },\r\n    button: {\r\n      backgroundImage: \"linear-gradient(147deg, #2997f7 0%, #2997f7 74%)\",\r\n      borderRadius: 5,\r\n      paddingLeft: 24,\r\n      paddingRight: 24,\r\n      color: \"#ffffff\",\r\n      marginTop: \"25px\",\r\n      float: \"right\"\r\n    }\r\n  };\r\n});\r\n\r\n// for the step-based progress indicator\r\nconst switchStatus = status => {\r\n  console.log(status, \"ROs\");\r\n  if (status === \"submitted\") {\r\n    return 0;\r\n  } else if (status === \"approved\") {\r\n    return 1;\r\n  } else if (status === \"working\") {\r\n    return 2;\r\n  } else if (status === \"completed\") {\r\n    return 3;\r\n  } else if (status === \"cancelled\") {\r\n    return 4;\r\n  }\r\n};\r\n\r\nconst ReportItemCard = props => {\r\n  const styles = useStyles();\r\n  const contentStyles = contentStylesX();\r\n  const shadowStyles = useOverShadowStyles();\r\n  let dateFormat = require(\"dateformat\");\r\n  const dateTime = dateFormat(props.dateTime, \"mmm d, yyyy\");\r\n  let stepNumber = switchStatus(props.status);\r\n\r\n  return (\r\n    <Card className={cx(styles.root, shadowStyles.root)}>\r\n      <CardMedia className={styles.media} image={props.imageURL} />\r\n      <CardContent>\r\n        <TextInfoContent\r\n          classes={contentStyles}\r\n          overline={dateTime}\r\n          heading={props.location}\r\n          body={props.description}\r\n        />\r\n        <CustomizedSteppers stepNumber={stepNumber} />\r\n        <DetailedDataModal\r\n          imageURL={props.imageURL}\r\n          dateTime={dateTime}\r\n          location={props.location}\r\n          fullDescription={props.fullDescription}\r\n          fullLocation={props.fullLocation}\r\n          stepNumber={stepNumber}\r\n          severity={props.severity}\r\n          caseNumber={props.caseNumber}\r\n          latitude={props.latitude}\r\n          longitude={props.longitude}\r\n          buttonContentStyles={contentStyles.button}\r\n        />\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ReportItemCard;\r\n","// this is the my approvals screen. it uses the expandable card component\r\n// to show the high level view of the reports. it also indicates the counter\r\n// for the number of reports submitted.\r\nimport React from \"react\";\r\nimport ReportItemCard from \"./../../components/expandable_card\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport axios from \"axios\";\r\nimport { GET_USER_REPORTS } from \"./../../utility/constants.js\";\r\n\r\nclass Dashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dashboardData: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .post(GET_USER_REPORTS, {\r\n        data: {\r\n          userId: this.props.userId\r\n        }\r\n      })\r\n      .then(res => {\r\n        this.setState({\r\n          dashboardData: res[\"data\"]\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.info(\"Unable to retrieve user report\");\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ marginTop: \"100px\" }}>\r\n        <div style={{ textAlign: \"center\", color: \"#fff\" }}>\r\n          {\" \"}\r\n          <div\r\n            style={{\r\n              display: \"inline-block\",\r\n              backgroundColor: \"#333\",\r\n              color: \"#fff\",\r\n              paddingLeft: \"60px\",\r\n              paddingRight: \"60px\",\r\n              paddingTop: \"5px\",\r\n              paddingBottom: \"5px\",\r\n              fontWeight: \"bold\",\r\n              fontSize: \"20px\",\r\n              border: \"2px solid #333\",\r\n              borderRadius: \"5px\"\r\n            }}\r\n          >\r\n            Number of Reports &nbsp; [ {this.state.dashboardData.length} ]\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <br />\r\n        {this.state.dashboardData.length === 0 && (\r\n          <div\r\n            style={{\r\n              textAlign: \"center\",\r\n              fontWeight: \"bold\",\r\n              fontSize: \"24px\",\r\n              marginTop: \"150px\",\r\n              color: \"#333\"\r\n            }}\r\n          >\r\n            {\" \"}\r\n            No Reports yet. <br /> Click the Floating Action Button <br /> to\r\n            start Reporting now.\r\n          </div>\r\n        )}\r\n\r\n        <Grid container spacing={3}>\r\n          {this.state.dashboardData.map(value => (\r\n            <Grid key={value.case_id} item xs={12}>\r\n              <ReportItemCard\r\n                imageURL={value.imageURL}\r\n                dateTime={value.created_date}\r\n                fullLocation={value.location}\r\n                fullDescription={value.description}\r\n                location={\r\n                  value.location.length < 27\r\n                    ? value.location\r\n                    : value.location.substring(0, 26) + \" ...\"\r\n                }\r\n                description={\r\n                  value.description.lenght < 150\r\n                    ? value.description\r\n                    : value.description.substring(0, 149) + \" ...\"\r\n                }\r\n                status={value.status}\r\n                severity={value.severity}\r\n                caseNumber={value.case_id}\r\n                latitude={value.latitude}\r\n                longitude={value.longitude}\r\n              />\r\n              <br />\r\n              <br />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n","// this component is used to create the route based on the\r\n// source and destination location enetered by the user. it\r\n// displays the route with the marked potholes on the path\r\n// which were approved by the authorities. it uses google's\r\n// maps api to build the route and create custom markers for the\r\n// approved potholes. also it determines if a pothole is assocaited\r\n// with a path using the 'isLocationOnEdge' library function provided\r\n// by google maps.\r\n/*global google*/\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { compose, withProps, lifecycle, withStateHandlers } from \"recompose\";\r\nimport {\r\n  withScriptjs,\r\n  withGoogleMap,\r\n  GoogleMap,\r\n  DirectionsRenderer,\r\n  Marker,\r\n  InfoWindow\r\n} from \"react-google-maps\";\r\nimport {\r\n  GET_ALL_REPORTS,\r\n  ROUTE_ICON_IMAGE_HIGH,\r\n  ROUTE_ICON_IMAGE_MEDIUM,\r\n  ROUTE_ICON_IMAGE_LOW\r\n} from \"./../../utility/constants.js\";\r\n\r\nconst MapWithADirectionsRenderer = compose(\r\n  withProps({\r\n    googleMapURL:\r\n      \"https://maps.googleapis.com/maps/api/js?key=AIzaSyDZBgT-uZYXzTSkTJbiDcYT4D_XYsS8aUQ&v=3.exp&libraries=geometry,drawing,places\",\r\n    loadingElement: <div style={{ height: `100%` }} />,\r\n    containerElement: <div style={{ height: `400px` }} />,\r\n    mapElement: <div style={{ height: `100%` }} />\r\n  }),\r\n  withStateHandlers(\r\n    () => ({\r\n      isOpen: false,\r\n      infoIndex: null\r\n    }),\r\n    {\r\n      onToggleOpen: ({ isOpen, infoIndex }) => index => ({\r\n        isOpen: !isOpen,\r\n        infoIndex: index\r\n      })\r\n    }\r\n  ),\r\n  withScriptjs,\r\n  withGoogleMap,\r\n  lifecycle({\r\n    componentDidMount() {\r\n      const DirectionsService = new google.maps.DirectionsService();\r\n      DirectionsService.route(\r\n        {\r\n          origin: new google.maps.LatLng(\r\n            parseFloat(this.props.startLat),\r\n            parseFloat(this.props.startLng)\r\n          ),\r\n          destination: new google.maps.LatLng(\r\n            parseFloat(this.props.endLat),\r\n            parseFloat(this.props.endLng)\r\n          ),\r\n          travelMode: google.maps.TravelMode.DRIVING\r\n        },\r\n        (result, status) => {\r\n          if (status === google.maps.DirectionsStatus.OK) {\r\n            let self = this;\r\n            let selectedReports = [];\r\n            axios.post(GET_ALL_REPORTS).then(res => {\r\n              res.data.forEach((item, i) => {\r\n                if (\r\n                  google.maps.geometry.poly.isLocationOnEdge(\r\n                    new google.maps.LatLng(item.latitude, item.longitude),\r\n                    new google.maps.Polyline({\r\n                      path: result.routes[0].overview_path\r\n                    }),\r\n                    0.001\r\n                  )\r\n                ) {\r\n                  selectedReports.push(item);\r\n                }\r\n              });\r\n\r\n              self.setState({\r\n                directions: result,\r\n                selectedReports: selectedReports\r\n              });\r\n              this.props.manageCounts(\r\n                selectedReports.length,\r\n                result.routes[0].legs[0].duration.text +\r\n                  \" (\" +\r\n                  result.routes[0].legs[0].distance.text +\r\n                  \")\",\r\n                7\r\n              );\r\n            });\r\n          } else {\r\n            console.info(`Error Fetching Directions`);\r\n          }\r\n        }\r\n      );\r\n    }\r\n  })\r\n)(props => {\r\n  return (\r\n    <GoogleMap\r\n      defaultZoom={8}\r\n      defaultCenter={{\r\n        lat: parseFloat(props.centerLat),\r\n        lng: parseFloat(props.centerLng)\r\n      }}\r\n    >\r\n      {props.directions && <DirectionsRenderer directions={props.directions} />}\r\n      {props.selectedReports.map((report, index) => {\r\n        let iconMarkerImage;\r\n        if (parseInt(report.severity) <= 3) {\r\n          iconMarkerImage = ROUTE_ICON_IMAGE_LOW;\r\n        } else if (parseInt(report.severity) <= 6) {\r\n          iconMarkerImage = ROUTE_ICON_IMAGE_MEDIUM;\r\n        } else {\r\n          iconMarkerImage = ROUTE_ICON_IMAGE_HIGH;\r\n        }\r\n        let iconMarker = new window.google.maps.MarkerImage(\r\n          iconMarkerImage,\r\n          null,\r\n          null,\r\n          null,\r\n          new window.google.maps.Size(48, 48)\r\n        );\r\n        return (\r\n          <Marker\r\n            icon={iconMarker}\r\n            key={index}\r\n            position={{\r\n              lat: parseFloat(report.latitude),\r\n              lng: parseFloat(report.longitude)\r\n            }}\r\n            onClick={() => props.onToggleOpen(index)}\r\n          >\r\n            {props.isOpen && props.infoIndex === index && (\r\n              <InfoWindow\r\n                onCloseClick={props.onToggleOpen}\r\n                key={index}\r\n                visible={true}\r\n              >\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    marginTop: \"3px\",\r\n                    marginRight: \"3px\"\r\n                  }}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      color: \"#212121\",\r\n                      paddingRight: \"10px\",\r\n                      paddingBottom: \"10px\",\r\n                      fontWeight: \"bold\",\r\n                      lineHeight: 1.5\r\n                    }}\r\n                  >\r\n                    Reported On: {report.created_date.split(\" \")[0]}\r\n                    <hr style={{ marginTop: \"3px\", marginBottom: \"3px\" }} />\r\n                    Current Status:{\" \"}\r\n                    {report.status.charAt(0).toUpperCase() +\r\n                      report.status.slice(1)}\r\n                    <hr style={{ marginTop: \"3px\", marginBottom: \"3px\" }} />\r\n                    Reported Severity: {report.severity}/10{\" \"}\r\n                  </div>\r\n                  <div>\r\n                    <img\r\n                      src={report.imageURL}\r\n                      width=\"200px\"\r\n                      style={{\r\n                        border: \"2px solid black\",\r\n                        borderRadius: \"10px\",\r\n                        marginRight: \"10px\",\r\n                        marginBottom: \"10px\"\r\n                      }}\r\n                      alt={\"Validated Pothole\"}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </InfoWindow>\r\n            )}\r\n          </Marker>\r\n        );\r\n      })}\r\n    </GoogleMap>\r\n  );\r\n});\r\n\r\nexport default MapWithADirectionsRenderer;\r\n","// this component contains the counter indicators\r\n// for the distance of the route, number of Potholes\r\n// identified and the legend for the potholes based\r\n// on severity.\r\nimport React from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport FormatListNumberedIcon from \"@material-ui/icons/FormatListNumberedOutlined\";\r\nimport TimeToLeaveIcon from \"@material-ui/icons/TimeToLeaveOutlined\";\r\nimport WarningIcon from \"@material-ui/icons/Warning\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    flexGrow: 1,\r\n    maxWidth: 600,\r\n    borderRadius: \"3px\",\r\n    border: \"1px SOLID #212121\",\r\n    marginBottom: \"10px\"\r\n  }\r\n});\r\n\r\nexport default function CounterIndicator(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <center>\r\n      <Paper square className={classes.root}>\r\n        <Tabs value={0} indicatorColor=\"#333\" textColor=\"#fff\" centered>\r\n          <Tab\r\n            icon={<FormatListNumberedIcon color=\"primary\" />}\r\n            label={props.totalCount + \" Pothole(s)\"}\r\n            disabled\r\n          />\r\n          <Tab\r\n            icon={<TimeToLeaveIcon color=\"primary\" />}\r\n            label={props.eta}\r\n            disabled\r\n          />\r\n        </Tabs>\r\n      </Paper>\r\n      <Paper square className={classes.root}>\r\n        <Tabs value={0} indicatorColor=\"#333\" textColor=\"#fff\" centered>\r\n          <Tab\r\n            icon={<WarningIcon style={{ color: \"#4747f4\" }} />}\r\n            label={\"Low Severity\"}\r\n            disabled\r\n          />\r\n          <Tab\r\n            icon={<WarningIcon style={{ color: \"orange\" }} />}\r\n            label={\"Medium Severity\"}\r\n            disabled\r\n          />\r\n          <Tab\r\n            icon={<WarningIcon style={{ color: \"red\" }} />}\r\n            label={\"High Severity\"}\r\n            disabled\r\n          />\r\n        </Tabs>\r\n      </Paper>\r\n    </center>\r\n  );\r\n}\r\n","// this is the routing screen.\r\n// has options to enter source and destination location which uses the autocomplete search.\r\n// it also contains the counter indicators component and MapWithADirectionsRenderer component\r\nimport React from \"react\";\r\nimport MapWithADirectionsRenderer from \"./../../components/route_maker\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport LocationSearchInput from \"./../../components/search_places\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport CounterIndicator from \"./../../components/counter_indicator\";\r\n\r\nconst useStyles = theme => ({\r\n  root: {\r\n    maxWidth: \"100%\",\r\n    marginRight: \"2%\",\r\n    marginLeft: \"2%\",\r\n    marginTop: \"100px\",\r\n    marginBottom: \"30px\"\r\n  },\r\n  buttonSubmit: {\r\n    marginTop: \"7px\"\r\n  },\r\n  map: {\r\n    border: \"2px SOLID white\",\r\n    borderRadius: \"5px\"\r\n  }\r\n});\r\n\r\nclass Routing extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      centerLat: \"\",\r\n      centerLng: \"\",\r\n      startLat: \"\",\r\n      startLng: \"\",\r\n      endLat: \"\",\r\n      endLng: \"\",\r\n      startAddress: \"\",\r\n      endAddress: \"\",\r\n      selectedReports: [],\r\n      map: \"\",\r\n      counterIndicators: \"\"\r\n    };\r\n  }\r\n\r\n  setSourceLocation = (location, latLngLocation) => {\r\n    this.setState({\r\n      startAddress: location,\r\n      startLat: latLngLocation.lat,\r\n      startLng: latLngLocation.lng\r\n    });\r\n  };\r\n\r\n  setDestinationLocation = (location, latLngLocation) => {\r\n    this.setState({\r\n      endAddress: location,\r\n      endLat: latLngLocation.lat,\r\n      endLng: latLngLocation.lng\r\n    });\r\n  };\r\n\r\n  manageCounts = (totalCount, eta, severity) => {\r\n    this.setState({\r\n      counterIndicators: (\r\n        <CounterIndicator\r\n          totalCount={totalCount}\r\n          eta={eta}\r\n          lowSeverity={7}\r\n          mediumSeverity={8}\r\n          highSeverity={10}\r\n        />\r\n      )\r\n    });\r\n  };\r\n\r\n  submitOrignDestination = () => {\r\n    this.setState(\r\n      {\r\n        map: \"Loading ... \"\r\n      },\r\n      () => {\r\n        if (\r\n          !(\r\n            this.state.startLat === \"\" ||\r\n            this.state.startLng === \"\" ||\r\n            this.state.endLat === \"\" ||\r\n            this.state.endLng === \"\"\r\n          )\r\n        ) {\r\n          this.setState({\r\n            map: (\r\n              <div\r\n                style={{\r\n                  border: \"2px SOLID white\",\r\n                  borderRadius: \"5px\",\r\n                  marginTop: \"15px\"\r\n                }}\r\n              >\r\n                <MapWithADirectionsRenderer\r\n                  manageCounts={this.manageCounts}\r\n                  centerLat={\"-34.397\"}\r\n                  centerLng={\"150.644\"}\r\n                  startLat={this.state.startLat}\r\n                  startLng={this.state.startLng}\r\n                  endLat={this.state.endLat}\r\n                  endLng={this.state.endLng}\r\n                  selectedReports={this.state.selectedReports}\r\n                  directions\r\n                />\r\n              </div>\r\n            )\r\n          });\r\n        } else {\r\n          this.setState({\r\n            map: (\r\n              <div>\r\n                <br />\r\n                <Alert variant=\"filled\" severity=\"info\">\r\n                  This is an error alert — Cannot make map, try again!\r\n                </Alert>\r\n              </div>\r\n            )\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <Card className={classes.root}>\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            Route It\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            Use this to plan your travel, see the route to your destination and\r\n            how severe it could be to travel. Also, monitor any route to see the\r\n            progress for the reported pothole(s).\r\n          </Typography>\r\n          <LocationSearchInput\r\n            label=\"Source Location\"\r\n            updateLocation={this.setSourceLocation}\r\n            currentLocationOptional={true}\r\n          />\r\n          <LocationSearchInput\r\n            label=\"Destination Location\"\r\n            updateLocation={this.setDestinationLocation}\r\n            currentLocationOptional={true}\r\n          />\r\n          <Button\r\n            size=\"large\"\r\n            color=\"primary\"\r\n            onClick={() => this.submitOrignDestination()}\r\n            className={classes.buttonSubmit}\r\n          >\r\n            Get Route\r\n          </Button>\r\n          {this.state.counterIndicators}\r\n          {this.state.map}\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(Routing);\r\n","// this is the top app bar. contains all navigation menu options\r\nimport React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport PollIcon from \"@material-ui/icons/Poll\";\r\nimport AddLocationIcon from \"@material-ui/icons/AddLocation\";\r\nimport AssignmentIndIcon from \"@material-ui/icons/AssignmentInd\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport NavigationIcon from \"@material-ui/icons/Navigation\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\"\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen\r\n    })\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen\r\n    })\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  hide: {\r\n    display: \"none\"\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth\r\n  },\r\n  drawerHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(0, 1),\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: \"flex-end\"\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen\r\n    }),\r\n    marginLeft: -drawerWidth\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen\r\n    }),\r\n    marginLeft: 0\r\n  },\r\n  inputRoot: {\r\n    color: \"inherit\"\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 7),\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: 120,\r\n      \"&:focus\": {\r\n        width: 200\r\n      }\r\n    }\r\n  }\r\n}));\r\n\r\nexport default function PersistentDrawerLeft() {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, open && classes.hide)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n\r\n          <Typography variant=\"h5\" noWrap>\r\n            Spothole\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"persistent\"\r\n        anchor=\"left\"\r\n        open={open}\r\n        classes={{\r\n          paper: classes.drawerPaper\r\n        }}\r\n      >\r\n        <div className={classes.drawerHeader}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === \"ltr\" ? (\r\n              <ChevronLeftIcon />\r\n            ) : (\r\n              <ChevronRightIcon />\r\n            )}\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          <Link to=\"/report\">\r\n            <ListItem onClick={handleDrawerClose} button key={\"Report\"}>\r\n              <ListItemIcon>\r\n                <AddLocationIcon color=\"primary\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary={\"Report Pothole\"} />\r\n            </ListItem>\r\n          </Link>\r\n          <Link to=\"/\">\r\n            <ListItem onClick={handleDrawerClose} button key={\"Dashboard\"}>\r\n              <ListItemIcon>\r\n                <PollIcon color=\"primary\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary={\"My Complaints\"} />\r\n            </ListItem>\r\n          </Link>\r\n          <Link to=\"/routing\">\r\n            <ListItem\r\n              onClick={handleDrawerClose}\r\n              button\r\n              key={\"Route Navigaton\"}\r\n            >\r\n              <ListItemIcon>\r\n                <NavigationIcon color=\"primary\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary={\"Route Navigation\"} />\r\n            </ListItem>\r\n          </Link>\r\n          <Link to=\"/profile\">\r\n            <ListItem onClick={handleDrawerClose} button key={\"Profile\"}>\r\n              <ListItemIcon>\r\n                <AssignmentIndIcon color=\"primary\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary={\"Profile\"} />\r\n            </ListItem>\r\n          </Link>\r\n        </List>\r\n        <Link to=\"/logout\">\r\n          <ListItem onClick={handleDrawerClose} button key={\"Logout\"}>\r\n            <ListItemIcon>\r\n              <ExitToAppIcon color=\"primary\" />\r\n            </ListItemIcon>\r\n            <ListItemText primary={\"Logout\"} />\r\n          </ListItem>\r\n        </Link>\r\n      </Drawer>\r\n    </div>\r\n  );\r\n}\r\n","// used to separate components from navbar\r\nimport React from \"react\";\r\n\r\nconst HeaderSeparator = () => {\r\n  return <div style={{ marginTop: \"50px\" }}></div>;\r\n};\r\n\r\nexport default HeaderSeparator;\r\n","// the main sign in screen for the application. uses unsplash api\r\n// to load random background images and uses the google OAuth signin api.\r\nimport React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LockOpenIcon from \"@material-ui/icons/LockOpen\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport PinDropIcon from \"@material-ui/icons/PinDrop\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: \"100vh\"\r\n  },\r\n  image: {\r\n    backgroundImage: \"url(https://source.unsplash.com/random?road)\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundColor:\r\n      theme.palette.type === \"light\"\r\n        ? theme.palette.grey[50]\r\n        : theme.palette.grey[900],\r\n    backgroundSize: \"cover\",\r\n    backgroundPosition: \"center\"\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\"\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    marginTop: \"50px\",\r\n    backgroundColor: theme.palette.primary.main\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1)\r\n  },\r\n  submit: {\r\n    marginTop: \"50px\",\r\n    maxWidth: \"250px\",\r\n    paddingTop: \"15px\",\r\n    paddingBottom: \"15px\"\r\n  }\r\n}));\r\n\r\nexport default function SignInSide(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline />\r\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n      <Grid\r\n        item\r\n        xs={12}\r\n        sm={8}\r\n        md={5}\r\n        component={Paper}\r\n        elevation={6}\r\n        square\r\n        style={{\r\n          backgroundImage:\r\n            \"url('https://images.unsplash.com/photo-1543839482-a95d35fc5a77?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=900&q=80'), linear-gradient(rgba(0,0,0,0.6),rgba(0,0,0,0.6))\",\r\n          backgroundBlendMode: \"overlay\",\r\n          borderLeft: \"5px SOLID #212121\"\r\n        }}\r\n      >\r\n        <div className={classes.paper}>\r\n          <Typography\r\n            component=\"h1\"\r\n            variant=\"h1\"\r\n            style={{ marginTop: \"100px\" }}\r\n          >\r\n            <b>\r\n              <PinDropIcon fontSize={\"inherit\"} />\r\n            </b>\r\n          </Typography>\r\n          <br />\r\n          <Typography component=\"h1\" variant=\"h3\">\r\n            <b>Spothole</b>\r\n          </Typography>\r\n          <br />\r\n          <Typography\r\n            component=\"h1\"\r\n            variant=\"h5\"\r\n            style={{ marginTop: \"100px\" }}\r\n          >\r\n            <b>Sign In</b>\r\n          </Typography>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={() =>\r\n              document.getElementsByClassName(\"abcRioButton\")[0].click()\r\n            }\r\n          >\r\n            <b>\r\n              Sign In With Google &nbsp;\r\n              <LockOpenIcon />\r\n            </b>\r\n          </Button>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","// authentication component for validating any given route\r\n// uses google o-auth 2.0 api for the purpose of authentication\r\n// uses the isSignedIn state variable to manage the state of login for the user\r\n/* global gapi */\r\nimport React, { Component } from \"react\";\r\nimport { CLIENT_ID } from \"./../../utility/constants.js\";\r\nimport { Link } from \"react-router-dom\";\r\nimport KickStart from \"./../../navigation\";\r\nimport Profile from \"./../../navigation/profile\";\r\nimport Dashboard from \"./../../navigation/dashboard\";\r\nimport Routing from \"./../../navigation/routing\";\r\nimport NavBar from \"./../../navigation/navbar\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport HeaderSeparator from \"./../header_separator\";\r\nimport SignUp from \"./../signup\";\r\nimport {\r\n  HOST_NAME,\r\n  POST_PROFILE_DATA,\r\n  VALIDATE_USER,\r\n  UA_LOGIN\r\n} from \"./../../utility/constants.js\";\r\nimport axios from \"axios\";\r\n\r\nclass Auth extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isSignedIn: false,\r\n      userId: \"\",\r\n      profileName: \"\",\r\n      profileEmail: \"\",\r\n      profilePhotoURL: \"\"\r\n    };\r\n  }\r\n\r\n  // sets the state once signed in and calls the renderer\r\n  // uses the o-auth 2.0 api\r\n  componentDidMount() {\r\n    const successCallback = this.onSuccess.bind(this);\r\n    window.gapi.load(\"auth2\", () => {\r\n      this.auth2 = gapi.auth2.init({\r\n        client_id: CLIENT_ID\r\n      });\r\n      this.auth2.then(() => {\r\n        let basicProfile = window.gapi.auth2\r\n          .getAuthInstance()\r\n          .currentUser.get()\r\n          .getBasicProfile();\r\n        this.setState({\r\n          isSignedIn: this.auth2.isSignedIn.get(),\r\n          userId: basicProfile.getId() || \"\",\r\n          profileName: basicProfile.getName() || \"\",\r\n          profileEmail: basicProfile.getEmail() || \"\",\r\n          profilePhotoURL: basicProfile.getImageUrl() || \"\"\r\n        });\r\n      });\r\n    });\r\n\r\n    this.callRender(successCallback);\r\n  }\r\n  // success renderer\r\n  // requires the callback function as a param\r\n  callRender = successCallback => {\r\n    window.gapi.load(\"signin2\", function() {\r\n      // using this method will show Signed In if the user is already signed in\r\n      var opts = {\r\n        width: 0,\r\n        height: 0,\r\n        client_id: CLIENT_ID,\r\n        onsuccess: successCallback,\r\n        longTitle: false,\r\n        theme: \"dark\"\r\n      };\r\n      gapi.signin2.render(\"loginButton\", opts);\r\n    });\r\n  };\r\n\r\n  // logout and reset the signedIn state variable\r\n  logout = redirectTo => {\r\n    if (this.state.isSignedIn) {\r\n      window.gapi.auth2\r\n        .getAuthInstance()\r\n        .signOut()\r\n        .then(() => {\r\n          this.setState(\r\n            {\r\n              isSignedIn: this.auth2.isSignedIn.get()\r\n            },\r\n            () => {\r\n              localStorage.setItem(\"signedIn\", false);\r\n              this.urlRedirect(redirectTo || HOST_NAME);\r\n            }\r\n          );\r\n        });\r\n    } else {\r\n      console.info(\"Already Signed In\");\r\n    }\r\n  };\r\n\r\n  // redirects to the home page\r\n  // requires home page url as param\r\n  urlRedirect = url => {\r\n    var X = setTimeout(function() {\r\n      window.location.replace(url);\r\n      return true;\r\n    }, 300);\r\n\r\n    if ((window.location = url)) {\r\n      clearTimeout(X);\r\n      return true;\r\n    } else {\r\n      if ((window.location.href = url)) {\r\n        clearTimeout(X);\r\n        return true;\r\n      } else {\r\n        clearTimeout(X);\r\n        window.location.replace(url);\r\n        return true;\r\n      }\r\n    }\r\n  };\r\n\r\n  // updates or inserts the first time authority profile after logging in\r\n  validateAndPostProfileData = basicProfile => {\r\n    axios\r\n      .post(VALIDATE_USER, {\r\n        data: {\r\n          emailId: basicProfile.getEmail()\r\n        }\r\n      })\r\n      .then(response => {\r\n        if (response.data === \"allowed\") {\r\n          axios.post(POST_PROFILE_DATA, {\r\n            data: {\r\n              userId: basicProfile.getId(),\r\n              emailId: basicProfile.getEmail(),\r\n              name: basicProfile.getName(),\r\n              photoURL: basicProfile.getImageUrl()\r\n            }\r\n          });\r\n        } else {\r\n          this.logout(UA_LOGIN);\r\n          console.info(\"Unauthorized Login\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.logout();\r\n        console.info(\"Cannot login at this time!\");\r\n      });\r\n  };\r\n\r\n  // success callback\r\n  // sets the local storage and the state variable\r\n  // sets the profile data state variables\r\n  // posts the profile data to the server\r\n  onSuccess() {\r\n    let basicProfile = window.gapi.auth2\r\n      .getAuthInstance()\r\n      .currentUser.get()\r\n      .getBasicProfile();\r\n    localStorage.setItem(\"signedIn\", true);\r\n    this.setState(\r\n      {\r\n        isSignedIn: true,\r\n        err: null,\r\n        userId: basicProfile.getId(),\r\n        profileName: basicProfile.getName(),\r\n        profileEmail: basicProfile.getEmail(),\r\n        profilePhotoURL: basicProfile.getImageUrl()\r\n      },\r\n      () => {\r\n        this.validateAndPostProfileData(basicProfile);\r\n      }\r\n    );\r\n  }\r\n\r\n  // on failure to login sets\r\n  // the state varibales accordingly\r\n  onLoginFailed(err) {\r\n    this.setState({\r\n      isSignedIn: false,\r\n      error: err\r\n    });\r\n  }\r\n\r\n  // associates the nav bar after successful sign in\r\n  navigationBar = () => {\r\n    return (\r\n      <div>\r\n        {\" \"}\r\n        <NavBar />\r\n        <Link to=\"/report\">\r\n          <Fab\r\n            color=\"secondary\"\r\n            aria-label=\"add\"\r\n            style={{\r\n              position: \"fixed\",\r\n              zIndex: 1,\r\n              right: 0,\r\n              bottom: 0,\r\n              marginRight: \"25px\",\r\n              marginBottom: \"25px\"\r\n            }}\r\n          >\r\n            <AddIcon />\r\n          </Fab>\r\n        </Link>\r\n        <HeaderSeparator />{\" \"}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // on the basis of login status renders the associated component\r\n  // and passes it the required params\r\n  loginStatus() {\r\n    if (localStorage.getItem(\"signedIn\") === \"true\" && this.state.isSignedIn) {\r\n      switch (this.props.linkTo) {\r\n        case \"/dashboard\":\r\n          return (\r\n            <div>\r\n              <Dashboard userId={this.state.userId} />\r\n              {this.navigationBar()}\r\n            </div>\r\n          );\r\n        case \"/report\":\r\n          return (\r\n            <div>\r\n              <KickStart userId={this.state.userId} />\r\n              {this.navigationBar()}\r\n            </div>\r\n          );\r\n        case \"/logout\":\r\n          this.logout();\r\n          break;\r\n        case \"/routing\":\r\n          return (\r\n            <div>\r\n              <Routing userId={this.state.userId} />\r\n              {this.navigationBar()}\r\n            </div>\r\n          );\r\n        case \"/profile\":\r\n          return (\r\n            <div>\r\n              <Profile\r\n                userId={this.state.userId}\r\n                name={this.state.profileName}\r\n                email={this.state.profileEmail}\r\n                photoURL={this.state.profilePhotoURL}\r\n              />\r\n              {this.navigationBar()}\r\n            </div>\r\n          );\r\n        case \"/\":\r\n          return (\r\n            <div>\r\n              <Dashboard userId={this.state.userId} />\r\n              {this.navigationBar()}\r\n            </div>\r\n          );\r\n        default:\r\n          return (\r\n            <div>\r\n              <Dashboard userId={this.state.userId} />\r\n              {this.navigationBar()}\r\n            </div>\r\n          );\r\n      }\r\n    } else if (\r\n      localStorage.getItem(\"signedIn\") === \"false\" &&\r\n      this.state.isSignedIn\r\n    ) {\r\n      this.urlRedirect(HOST_NAME);\r\n    } else {\r\n      if (localStorage.getItem(\"signedIn\") !== \"true\") {\r\n        return (\r\n          <div>\r\n            <div id=\"loginButton\" style={{ display: \"none\" }}>\r\n              Login with Google\r\n            </div>\r\n            <SignUp />\r\n          </div>\r\n        );\r\n      } else {\r\n        return <div />;\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div>{this.loginStatus()}</div>;\r\n  }\r\n}\r\n\r\nexport default Auth;\r\n","import React from \"react\";\r\nclass NotFound extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  render() {\r\n    window.location.href = \"https://nirbhay.me/spothole/404\";\r\n    return <div>404</div>;\r\n  }\r\n}\r\n\r\nexport default NotFound;\r\n","// the main routing component. based on the URL, it renders the auth component\n// for a particular path.\nimport React from \"react\";\nimport Auth from \"./components/authentication\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { createMuiTheme } from \"@material-ui/core\";\nimport NotFound from \"./components/not_found\";\n\nconst theme = createMuiTheme({\n  palette: {\n    type: \"dark\",\n    primary: {\n      main: \"#2997f7\"\n    },\n    secondary: {\n      main: \"#ff0000\"\n    }\n  },\n  overrides: {\n    MuiPaper: {\n      root: {\n        backgroundColor: \"#333\"\n      }\n    },\n    MuiStepper: {\n      root: {\n        padding: \"0px\"\n      }\n    }\n  }\n});\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <Router>\n        <div>\n          <Switch>\n            <Route path=\"/report\" exact>\n              <Auth linkTo=\"/report\" />\n            </Route>\n            <Route path=\"/profile\" exact>\n              <Auth linkTo=\"/profile\" />\n            </Route>\n            <Route path=\"/logout\" exact>\n              <Auth linkTo=\"/logout\" />\n            </Route>\n            <Route path=\"/routing\" exact>\n              <Auth linkTo=\"/routing\" />\n            </Route>\n            <Route path=\"/dashboard\" exact>\n              <Auth linkTo=\"/dashboard\" />\n            </Route>\n            <Route path=\"/\" exact>\n              <Auth linkTo=\"/dashboard\" />\n            </Route>\n            <Route path=\"*\" exact={true} component={NotFound}></Route>\n          </Switch>\n        </div>\n      </Router>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","// initial app setting\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}